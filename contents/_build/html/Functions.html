
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Primitive functions &#8212; APL Cultivations</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Primitive operators" href="Operators.html" />
    <link rel="prev" title="Introduction to arrays" href="Arrays.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">APL Cultivations</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Intro.html">
   APL Cultivations
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Arrays.html">
   Introduction to arrays
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Primitive functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Operators.html">
   Primitive operators
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="UserFunctions.html">
   User-defined functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="SystemFunctions.html">
   System functions
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/Functions.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/xpqz/cultivations"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/xpqz/cultivations/issues/new?title=Issue%20on%20page%20%2FFunctions.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   <code class="docutils literal notranslate">
    <span class="pre">
     +-×÷*⍟⌹○
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#arithmetic">
     Arithmetic
     <code class="docutils literal notranslate">
      <span class="pre">
       +-×÷
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reciprocal-a-direction-a">
     Reciprocal
     <code class="docutils literal notranslate">
      <span class="pre">
       ÷A
      </span>
     </code>
     , direction
     <code class="docutils literal notranslate">
      <span class="pre">
       ×A
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#power-log">
     Power
     <code class="docutils literal notranslate">
      <span class="pre">
       *
      </span>
     </code>
     , log
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍟
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#matrix-divide">
     Matrix divide
     <code class="docutils literal notranslate">
      <span class="pre">
       ⌹
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#circular">
     Circular
     <code class="docutils literal notranslate">
      <span class="pre">
       ○
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   <code class="docutils literal notranslate">
    <span class="pre">
     !?|⌈⌊⊥⊤⊣⊢
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#factorial-binomial">
     Factorial, binomial
     <code class="docutils literal notranslate">
      <span class="pre">
       !
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#roll-deal">
     Roll, deal
     <code class="docutils literal notranslate">
      <span class="pre">
       ?
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#magnitude-residue">
     Magnitude, residue
     <code class="docutils literal notranslate">
      <span class="pre">
       |
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ceiling-maximum">
     Ceiling, maximum
     <code class="docutils literal notranslate">
      <span class="pre">
       ⌈
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#floor-minimum">
     Floor, minimum
     <code class="docutils literal notranslate">
      <span class="pre">
       ⌊
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#decode">
     Decode
     <code class="docutils literal notranslate">
      <span class="pre">
       ⊥
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#encode">
     Encode
     <code class="docutils literal notranslate">
      <span class="pre">
       ⊤
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#left-right">
     Left, right
     <code class="docutils literal notranslate">
      <span class="pre">
       ⊣⊢
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   <code class="docutils literal notranslate">
    <span class="pre">
     =≤&lt;&gt;≥≡≢
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#comparisons">
     Comparisons
     <code class="docutils literal notranslate">
      <span class="pre">
       =≤&lt;&gt;≥≡≢
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#depth-tally">
     Depth, tally
     <code class="docutils literal notranslate">
      <span class="pre">
       ≡≢
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   <code class="docutils literal notranslate">
    <span class="pre">
     ∨∧⍱⍲↑↓
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#or-gcd">
     OR, GCD
     <code class="docutils literal notranslate">
      <span class="pre">
       ∨
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#and-lcd">
     AND, LCD
     <code class="docutils literal notranslate">
      <span class="pre">
       ∧
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nor-nand">
     NOR, NAND
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍱⍲
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#take">
     Take
     <code class="docutils literal notranslate">
      <span class="pre">
       ↑
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mix">
     Mix
     <code class="docutils literal notranslate">
      <span class="pre">
       ↑
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#drop">
     Drop
     <code class="docutils literal notranslate">
      <span class="pre">
       ↓
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#split">
     Split
     <code class="docutils literal notranslate">
      <span class="pre">
       ↓
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   <code class="docutils literal notranslate">
    <span class="pre">
     ⊂⊃⊆⌷⍋⍒
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#enclose">
     Enclose
     <code class="docutils literal notranslate">
      <span class="pre">
       ⊂
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#partitioned-enclose">
     Partitioned enclose
     <code class="docutils literal notranslate">
      <span class="pre">
       ⊂
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#disclose">
     Disclose
     <code class="docutils literal notranslate">
      <span class="pre">
       ⊃
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pick">
     Pick
     <code class="docutils literal notranslate">
      <span class="pre">
       ⊃
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nest">
     Nest
     <code class="docutils literal notranslate">
      <span class="pre">
       ⊆
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#partition">
     Partition
     <code class="docutils literal notranslate">
      <span class="pre">
       ⊆
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#materialise">
     Materialise
     <code class="docutils literal notranslate">
      <span class="pre">
       ⌷
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#index">
     Index
     <code class="docutils literal notranslate">
      <span class="pre">
       ⌷
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grade-up-down">
     Grade up/down
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍋⍒
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id6">
   <code class="docutils literal notranslate">
    <span class="pre">
     ⍳⍸∊⍷∪∩~
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#index-generator">
     Index generator
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍳
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#index-of">
     Index-of
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍳
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#where">
     Where
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍸
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interval-index">
     Interval index
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍸
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#membership">
     Membership
     <code class="docutils literal notranslate">
      <span class="pre">
       ∊
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#enlist">
     Enlist
     <code class="docutils literal notranslate">
      <span class="pre">
       ∊
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#find">
     Find
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍷
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#union">
     Union
     <code class="docutils literal notranslate">
      <span class="pre">
       ∪
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#unique">
     Unique
     <code class="docutils literal notranslate">
      <span class="pre">
       ∪
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#intersection">
     Intersection
     <code class="docutils literal notranslate">
      <span class="pre">
       ∩
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#without">
     Without
     <code class="docutils literal notranslate">
      <span class="pre">
       ~
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#not">
     NOT
     <code class="docutils literal notranslate">
      <span class="pre">
       ~
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id7">
   <code class="docutils literal notranslate">
    <span class="pre">
     /\⌿⍀,⍪
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#replicate">
     Replicate
     <code class="docutils literal notranslate">
      <span class="pre">
       /
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#expand">
     Expand
     <code class="docutils literal notranslate">
      <span class="pre">
       \
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ravel">
     Ravel
     <code class="docutils literal notranslate">
      <span class="pre">
       ,
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#catenate">
     Catenate
     <code class="docutils literal notranslate">
      <span class="pre">
       ,
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#catenate-first">
     Catenate first
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍪
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#table">
     Table
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍪
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id8">
   <code class="docutils literal notranslate">
    <span class="pre">
     ⍴⌽⊖⍉⍎⍕
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reshape">
     Reshape
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍴
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reverse">
     Reverse
     <code class="docutils literal notranslate">
      <span class="pre">
       ⌽
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reverse-first">
     Reverse first
     <code class="docutils literal notranslate">
      <span class="pre">
       ⊖
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transpose">
     Transpose
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍉
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#execute">
     Execute
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍎
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#format">
     Format
     <code class="docutils literal notranslate">
      <span class="pre">
       ⍕
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="primitive-functions">
<h1>Primitive functions<a class="headerlink" href="#primitive-functions" title="Permalink to this headline">¶</a></h1>
<p>Let’s investigate APL’s built-in primitive functions.</p>
<div class="section" id="id1">
<h2><code class="docutils literal notranslate"><span class="pre">+-×÷*⍟⌹○</span></code><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="arithmetic">
<h3>Arithmetic <code class="docutils literal notranslate"><span class="pre">+-×÷</span></code><a class="headerlink" href="#arithmetic" title="Permalink to this headline">¶</a></h3>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">+-×÷</span></code> are what you expect from math:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span><span class="o">+</span><span class="m">8</span>
<span class="m">4</span><span class="o">×</span><span class="m">12</span>
<span class="m">144</span><span class="o">×</span><span class="m">11</span>
<span class="m">3</span><span class="o">-</span><span class="m">7</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">11
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">48
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">1584
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">¯4
</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">0÷0</span></code> is <code class="docutils literal notranslate"><span class="pre">1</span></code> by default, but you can make all <code class="docutils literal notranslate"><span class="pre">n÷0</span></code> into <code class="docutils literal notranslate"><span class="pre">0</span></code> by setting <code class="docutils literal notranslate"><span class="pre">⎕DIV←1</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">0</span><span class="o">÷</span><span class="m">0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1
</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕DIV</span><span class="kd">←</span><span class="m">1</span>
<span class="m">0</span><span class="o">÷</span><span class="m">0</span>
<span class="nf">⎕DIV</span><span class="kd">←</span><span class="m">0</span>       <span class="c1">⍝ default setting</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0
</span></div></div>
</div>
</div>
<div class="section" id="reciprocal-a-direction-a">
<h3>Reciprocal <code class="docutils literal notranslate"><span class="pre">÷A</span></code>, direction <code class="docutils literal notranslate"><span class="pre">×A</span></code><a class="headerlink" href="#reciprocal-a-direction-a" title="Permalink to this headline">¶</a></h3>
<p>Question:</p>
<blockquote>
<div><p>How can we make 0÷0 throw an error?</p>
</div></blockquote>
<p>Multiply with the reciprocal:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">0</span><span class="o">×÷</span><span class="m">0</span>        <span class="c1">⍝ DOMAIN ERROR: Divide by zero </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DOMAIN ERROR: Divide by zero
      0×÷0  ⍝ DOMAIN ERROR: Divide by zero
        ∧
</pre></div>
</div>
</div>
</div>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">÷</span></code> is the <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Reciprocal.htm">reciprocal</a>, i.e. <code class="docutils literal notranslate"><span class="pre">÷x</span></code> is <code class="docutils literal notranslate"><span class="pre">1÷x</span></code>. Monadic <code class="docutils literal notranslate"><span class="pre">×</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Direction.htm">direction</a>, i.e. a complex number which has magnitude 1 but same angle as the argument. For real numbers this means <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Direction.htm">signum</a> (sign).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">÷</span><span class="m">5</span>          <span class="c1">⍝ reciprocal: 1÷5</span>
<span class="o">×</span><span class="m">12</span> <span class="m">¯33</span> <span class="m">0</span>   <span class="c1">⍝ signum</span>
<span class="o">×</span><span class="m">32j¯24</span>     <span class="c1">⍝ direction</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0.2
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">1 ¯1 0
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">0.8J¯0.6
</span></div></div>
</div>
</div>
<div class="section" id="power-log">
<h3>Power <code class="docutils literal notranslate"><span class="pre">*</span></code>, log <code class="docutils literal notranslate"><span class="pre">⍟</span></code><a class="headerlink" href="#power-log" title="Permalink to this headline">¶</a></h3>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">*</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Power.htm">power</a>, and the default left argument (i.e. for the monadic form) is e. So, monadic <code class="docutils literal notranslate"><span class="pre">*</span></code> is e-to-the-power-of.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span><span class="o">*</span><span class="m">10</span>        <span class="c1">⍝ ⍺ to the power of ⍵</span>
<span class="o">*</span><span class="m">1</span>          <span class="c1">⍝ e to the power of ⍵</span>
</pre></div>
</div>
</div>
</div>
<p>The inverse of <code class="docutils literal notranslate"><span class="pre">*</span></code> is <code class="docutils literal notranslate"><span class="pre">⍟</span></code>; <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Logarithm.htm">logarithm</a>. The monadic form is the natural logarithm and the dyadic is left-arg logarithm, so <code class="docutils literal notranslate"><span class="pre">10⍟n</span></code> is <code class="docutils literal notranslate"><span class="pre">log(n)</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">10</span><span class="o">⍟</span><span class="m">10000000</span>   <span class="c1">⍝ log(10000000)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">7
</span></div></div>
</div>
</div>
<div class="section" id="matrix-divide">
<h3>Matrix divide <code class="docutils literal notranslate"><span class="pre">⌹</span></code><a class="headerlink" href="#matrix-divide" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">⌹</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Matrix%20Divide.htm">matrix division</a>. Give it a coefficients’ matrix on the right and it will invert the matrix. If you also put a vector on the left and it will solve your system of equations. If over-determined, it will give you the least squares fit.</p>
<p>For example, in order to solve the following set of simultaneous equations,</p>
<p><span class="math notranslate nohighlight">\(\begin{array}{lcl} 3x + 2y &amp; = &amp; 13 \\ x - y &amp; = &amp; 1 \end{array}\)</span></p>
<p>we can use <code class="docutils literal notranslate"><span class="pre">⌹</span></code> like so:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">13</span> <span class="m">1</span> <span class="o">⌹</span> <span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="m">3</span> <span class="m">2</span> <span class="m">1</span> <span class="m">¯1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">3 2
</span></div></div>
</div>
</div>
<div class="section" id="circular">
<h3>Circular <code class="docutils literal notranslate"><span class="pre">○</span></code><a class="headerlink" href="#circular" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">○</span></code> <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Pi%20Times.htm">multiplies by π</a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">○</span><span class="m">2</span>          <span class="c1">⍝ 2 times π</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">6.28319
</span></div></div>
</div>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">○</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Circular.htm">circular</a>. It uses an integer left argument to select which trigonometric function to apply. The most common ones are 1, 2 and 3, which are <em>sin</em>, <em>cos</em> and <em>tan</em>. The negative versions <code class="docutils literal notranslate"><span class="pre">¯1</span></code>, <code class="docutils literal notranslate"><span class="pre">¯2</span></code> and <code class="docutils literal notranslate"><span class="pre">¯3</span></code> are <em>arcsin</em>, <em>arccos</em> and <em>arctan</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span><span class="o">○○</span><span class="m">1</span>        <span class="c1">⍝ sin π</span>
<span class="m">2</span><span class="o">○○</span><span class="m">1</span>        <span class="c1">⍝ cos π</span>
<span class="m">¯2</span><span class="o">○</span><span class="m">2</span><span class="o">○○</span><span class="m">1</span>     <span class="c1">⍝ arccos cos π</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1.22465E¯16
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">¯1
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">3.14159
</span></div></div>
</div>
<p>The entire list of <code class="docutils literal notranslate"><span class="pre">○</span></code>’s left arguments is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Circular.htm">here</a>.</p>
</div>
</div>
<div class="section" id="id2">
<h2><code class="docutils literal notranslate"><span class="pre">!?|⌈⌊⊥⊤⊣⊢</span></code><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="factorial-binomial">
<h3>Factorial, binomial <code class="docutils literal notranslate"><span class="pre">!</span></code><a class="headerlink" href="#factorial-binomial" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">!</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Factorial.htm">factorial</a>. Note that it goes on the left (like all other monadic APL functions) as opposed to mathematics’ <span class="math notranslate nohighlight">\(!\)</span>.</p>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">A!B</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Binomial.htm">binomial</a>. It is the number of ways to take <code class="docutils literal notranslate"><span class="pre">A</span></code> items from a bag of <code class="docutils literal notranslate"><span class="pre">B</span></code> items, generalised to be the binomial function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="m">12</span>         <span class="c1">⍝ 12 factorial</span>
<span class="m">2</span><span class="o">!</span><span class="m">8</span>         <span class="c1">⍝ how many ways can we select 2 from 8?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">479001600
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">28
</span></div></div>
</div>
</div>
<div class="section" id="roll-deal">
<h3>Roll, deal <code class="docutils literal notranslate"><span class="pre">?</span></code><a class="headerlink" href="#roll-deal" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">?B</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Roll.htm">roll</a>. It returns a random integer among the first <code class="docutils literal notranslate"><span class="pre">B</span></code> integers. <code class="docutils literal notranslate"><span class="pre">?0</span></code> returns a random float between (but not including) 0 and 1:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">?</span><span class="m">6</span> <span class="m">6</span> <span class="m">6</span>     <span class="c1">⍝ roll three six-sided dice</span>
<span class="o">?</span><span class="m">0</span>         <span class="c1">⍝ random float between 0-1, excluding 0 and 1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">3 2 2
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">0.28629
</span></div></div>
</div>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">A?B</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Deal.htm">deal</a>. It returns a random one of the ways <code class="docutils literal notranslate"><span class="pre">A!B</span></code> counted. I.e. it returns <code class="docutils literal notranslate"><span class="pre">A</span></code> random numbers among the <code class="docutils literal notranslate"><span class="pre">B</span></code> first integers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">10</span><span class="o">?</span><span class="m">10</span>       <span class="c1">⍝ 1-10 in random order</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">10 2 8 5 4 7 3 6 9 1
</span></div></div>
</div>
<p>Note that it deals from the set <code class="docutils literal notranslate"><span class="pre">⍳B</span></code>, so it’s dependent on your <code class="docutils literal notranslate"><span class="pre">⎕IO</span></code> setting:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕IO</span><span class="kd">←</span><span class="m">0</span>
<span class="m">10</span><span class="o">?</span><span class="m">10</span>      <span class="c1">⍝ Now we should get 0-9</span>
<span class="nf">⎕IO</span><span class="kd">←</span><span class="m">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">6 4 7 1 0 9 2 5 8 3
</span></div></div>
</div>
</div>
<div class="section" id="magnitude-residue">
<h3>Magnitude, residue <code class="docutils literal notranslate"><span class="pre">|</span></code><a class="headerlink" href="#magnitude-residue" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">|</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Magnitude.htm">magnitude</a>, also called the absolute value, <span class="math notranslate nohighlight">\(|x|\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">|</span><span class="m">¯97</span>
<span class="o">|</span><span class="m">3</span> <span class="m">5</span> <span class="m">¯7</span> <span class="m">¯8</span> <span class="m">7</span> <span class="m">¯2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">97
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">3 5 7 8 7 2
</span></div></div>
</div>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">A|B</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Residue.htm">residue</a>, also known as the <em>division remainder</em> (“mod”) when <code class="docutils literal notranslate"><span class="pre">B</span></code> is divided by <code class="docutils literal notranslate"><span class="pre">A</span></code>. Note the reversed order of arguments. “normal” mod is <code class="docutils literal notranslate"><span class="pre">|⍨</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span><span class="o">|⍳</span><span class="m">10</span>     <span class="c1">⍝ odd numbers in 1-10</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 0 1 0 1 0 1 0 1 0
</span></div></div>
</div>
</div>
<div class="section" id="ceiling-maximum">
<h3>Ceiling, maximum <code class="docutils literal notranslate"><span class="pre">⌈</span></code><a class="headerlink" href="#ceiling-maximum" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">⌈</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Ceiling.htm">ceiling</a>, <span class="math notranslate nohighlight">\(⌈x⌉\)</span>,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⌈</span><span class="m">3.14159256</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">4
</span></div></div>
</div>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">A⌈B</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Maximum.htm">maximum</a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">15</span><span class="o">⌈</span><span class="m">23</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">23
</span></div></div>
</div>
</div>
<div class="section" id="floor-minimum">
<h3>Floor, minimum <code class="docutils literal notranslate"><span class="pre">⌊</span></code><a class="headerlink" href="#floor-minimum" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">⌊</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Floor.htm">floor</a>, and the dyadic is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Minimum.htm">minimum</a>,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⌊</span><span class="m">3.14159256</span>
<span class="m">15</span><span class="o">⌊</span><span class="m">23</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">3
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">15
</span></div></div>
</div>
</div>
<div class="section" id="decode">
<h3>Decode <code class="docutils literal notranslate"><span class="pre">⊥</span></code><a class="headerlink" href="#decode" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">A⊥B</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Decode.htm">decode</a>. It evaluates digits <code class="docutils literal notranslate"><span class="pre">B</span></code> as (mixed) base <code class="docutils literal notranslate"><span class="pre">A</span></code>, e.g,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span><span class="o">⊥</span><span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span>   <span class="c1">⍝ decode binary to decimal</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">42
</span></div></div>
</div>
</div>
<div class="section" id="encode">
<h3>Encode <code class="docutils literal notranslate"><span class="pre">⊤</span></code><a class="headerlink" href="#encode" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">A⊤B</span></code>, or <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Encode.htm">encode</a>, is the inverse of <code class="docutils literal notranslate"><span class="pre">⊥</span></code>, turning <code class="docutils literal notranslate"><span class="pre">B</span></code> into a list(s) of digits in (mixed) base <code class="docutils literal notranslate"><span class="pre">A</span></code>,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">24</span> <span class="m">60</span> <span class="m">60</span><span class="o">⊤</span><span class="m">10000</span>  <span class="c1">⍝ seconds to hour, minutes, seconds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">2 46 40
</span></div></div>
</div>
<p>Ten thousand seconds is the same as 2 hours, 46 minutes and 40 seconds.</p>
</div>
<div class="section" id="left-right">
<h3>Left, right <code class="docutils literal notranslate"><span class="pre">⊣⊢</span></code><a class="headerlink" href="#left-right" title="Permalink to this headline">¶</a></h3>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">⊣</span></code> is the <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Left.htm">left</a> argument unmodified. Monadically, it just returns its sole argument. Dyadic <code class="docutils literal notranslate"><span class="pre">⊢</span></code> is the <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Right.htm">right</a> argument unmodified. Monadically, it just returns its sole argument.</p>
</div>
</div>
<div class="section" id="id3">
<h2><code class="docutils literal notranslate"><span class="pre">=≤&lt;&gt;≥≡≢</span></code><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="comparisons">
<h3>Comparisons <code class="docutils literal notranslate"><span class="pre">=≤&lt;&gt;≥≡≢</span></code><a class="headerlink" href="#comparisons" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">=</span></code> is comparison (not assignment!) and penetrates all structures, giving a single Boolean (0 or 1) per leaf element. <code class="docutils literal notranslate"><span class="pre">≠</span></code> is the negation of that.</p>
<p><code class="docutils literal notranslate"><span class="pre">≤&lt;&gt;≥</span></code> work as you’d expect, again penetrating all structure.</p>
<p><code class="docutils literal notranslate"><span class="pre">A≡B</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Match.htm">match</a>. It compares the entire arrays <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> in all respects, even the invisible prototype:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;&#39;</span><span class="o">≡</span><span class="no">⍬</span>   <span class="c1">⍝ does the empty char vector match the empty numeric vector?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0
</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">A≢B</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Not%20Match.htm">not match</a>, the negation of <code class="docutils literal notranslate"><span class="pre">A≡B</span></code>.</p>
</div>
<div class="section" id="depth-tally">
<h3>Depth, tally <code class="docutils literal notranslate"><span class="pre">≡≢</span></code><a class="headerlink" href="#depth-tally" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">≡B</span></code> gives the <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Depth.htm">depth</a> of <code class="docutils literal notranslate"><span class="pre">B</span></code>, which is the amount of nesting. A simple scalar is 0, a vector is 1, a vector of vectors is 2, etc. If the amount of nesting is uneven throughout the array, the result will be negative, and indicate the maximum depth.</p>
<p><code class="docutils literal notranslate"><span class="pre">≢B</span></code> is the <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Tally.htm">tally</a> of <code class="docutils literal notranslate"><span class="pre">B</span></code>, i.e. how many major cells <code class="docutils literal notranslate"><span class="pre">B</span></code> has. For a scalar, that’s 1. For a vector, it is the number of elements, for a matrix it is the number of rows, for a 3D array it is the number of layers, and so on.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">≡</span><span class="p">(</span><span class="m">1</span> <span class="m">2</span> <span class="p">(</span><span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="p">(</span><span class="m">6</span> <span class="m">7</span> <span class="m">8</span><span class="p">)))</span>  <span class="c1">⍝ unevenly nested vector</span>
<span class="o">≢</span><span class="m">1</span>                      <span class="c1">⍝ scalars tally to 1</span>
<span class="o">≢</span><span class="m">3</span> <span class="m">2</span><span class="o">⍴⍳</span><span class="m">6</span>                 <span class="c1">⍝ matrix tally is the number of rows</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">¯3
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">1
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">3
</span></div></div>
</div>
</div>
</div>
<div class="section" id="id4">
<h2><code class="docutils literal notranslate"><span class="pre">∨∧⍱⍲↑↓</span></code><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="or-gcd">
<h3>OR, GCD <code class="docutils literal notranslate"><span class="pre">∨</span></code><a class="headerlink" href="#or-gcd" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">∨</span></code> is logical <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Or%20Greatest%20Common%20Divisor.htm">OR</a>, and it is Greatest Common Divisor for for other numbers (which happens to fit with <em>OR</em> for 0s and 1s):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="o">∨</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span>    <span class="c1">⍝ logical OR</span>
<span class="m">15</span> <span class="m">1</span> <span class="m">2</span> <span class="m">7</span> <span class="o">∨</span> <span class="m">35</span> <span class="m">1</span> <span class="m">4</span> <span class="m">0</span>  <span class="c1">⍝ GCD</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 1 1 1
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">5 1 2 7
</span></div></div>
</div>
</div>
<div class="section" id="and-lcd">
<h3>AND, LCD <code class="docutils literal notranslate"><span class="pre">∧</span></code><a class="headerlink" href="#and-lcd" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">∧</span></code> is logical <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/And%20Lowest%20Common%20Multiple.htm">AND</a>, and it is Lowest Common Multiple for for other numbers (which happens to fit with <em>AND</em> for 0s and 1s):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="o">∧</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span>     <span class="c1">⍝ logical AND</span>
<span class="m">15</span> <span class="m">1</span> <span class="m">2</span> <span class="m">7</span> <span class="o">∧</span> <span class="m">35</span> <span class="m">1</span> <span class="m">4</span> <span class="m">0</span>   <span class="c1">⍝ LCM</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 0 0 1
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">105 1 4 0
</span></div></div>
</div>
</div>
<div class="section" id="nor-nand">
<h3>NOR, NAND <code class="docutils literal notranslate"><span class="pre">⍱⍲</span></code><a class="headerlink" href="#nor-nand" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">⍱</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Nor.htm">NOR</a>, and <code class="docutils literal notranslate"><span class="pre">⍲</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Nand.htm">NAND</a>. They only work on Booleans (arrays with nothing but 1s and 0s). Note that you can use <code class="docutils literal notranslate"><span class="pre">≠</span></code> as <em>XOR</em> and <code class="docutils literal notranslate"><span class="pre">=</span></code> as <em>XNOR</em> (and you can use <code class="docutils literal notranslate"><span class="pre">≤</span></code> as logical implication. Similarly for the other comparisons.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="o">⍱</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="c1">⍝ NOR</span>
<span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="o">≠</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="c1">⍝ XOR</span>
<span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="o">=</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="c1">⍝ XNOR</span>
<span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="o">⍲</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="c1">⍝ NAND</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 0 0 0
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">0 1 1 0
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">1 0 0 1
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">1 1 1 0
</span></div></div>
</div>
</div>
<div class="section" id="take">
<h3>Take <code class="docutils literal notranslate"><span class="pre">↑</span></code><a class="headerlink" href="#take" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">A↑B</span></code> <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Take.htm">takes</a> from <code class="docutils literal notranslate"><span class="pre">B</span></code>. If <code class="docutils literal notranslate"><span class="pre">A</span></code> is a scalar/one-element-vector, it takes major cells, if it has two two elements, the first element is the number of major cells, and the second the number of semi-major cells, etc.:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>            <span class="c1">⍝ original array</span>
<span class="m">2</span><span class="o">↑</span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>          <span class="c1">⍝ take two major cells (a.k.a rows)</span>
<span class="m">2</span> <span class="m">3</span><span class="o">↑</span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>        <span class="c1">⍝ two major, and three semi-major cells</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCD
EFGH
IJKL
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCD
EFGH
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">ABC
EFG
</span></div></div>
</div>
<p>If you take more than there is, <code class="docutils literal notranslate"><span class="pre">↑</span></code> will pad with 0s for numeric arguments, and spaces for character arguments:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">6</span><span class="o">↑</span><span class="m">3</span> <span class="m">1</span> <span class="m">4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">3 1 4 0 0 0
</span></div></div>
</div>
<p>You may also “overtake” a scalar to any number of dimensions:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span> <span class="m">3</span><span class="o">↑</span><span class="m">4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">4 0 0
0 0 0
</span></div></div>
</div>
<p>Negative numbers indicate taking from the reverse:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">¯6</span><span class="o">↑</span><span class="m">3</span> <span class="m">1</span> <span class="m">4</span>
<span class="m">¯2</span> <span class="m">¯3</span><span class="o">↑</span><span class="m">4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 0 0 3 1 4
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">0 0 0
0 0 4
</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">¯2</span> <span class="m">¯2</span><span class="o">↑</span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCD
EFGH
IJKL
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">GH
KL
</span></div></div>
</div>
</div>
<div class="section" id="mix">
<h3>Mix <code class="docutils literal notranslate"><span class="pre">↑</span></code><a class="headerlink" href="#mix" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">↑</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Mix.htm">mix</a>. It trades one level of depth (nesting) into one level of rank.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">↑</span><span class="p">(</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span><span class="p">)(</span><span class="m">4</span> <span class="m">5</span> <span class="m">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3
4 5 6
</span></div></div>
</div>
<p>Because rank enforces non-raggedness, monadic <code class="docutils literal notranslate"><span class="pre">↑</span></code> will pad with the prototype element (0 or space) just like dyadic <code class="docutils literal notranslate"><span class="pre">↑</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">↑</span><span class="p">(</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span><span class="p">)(</span><span class="m">4</span> <span class="m">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3
4 5 0
</span></div></div>
</div>
</div>
<div class="section" id="drop">
<h3>Drop <code class="docutils literal notranslate"><span class="pre">↓</span></code><a class="headerlink" href="#drop" title="Permalink to this headline">¶</a></h3>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">↓</span></code> is just like dyadic <code class="docutils literal notranslate"><span class="pre">↑</span></code> except it <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Drop.htm">drops</a> instead of taking:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span> 
<span class="m">1</span><span class="o">↓</span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="sr">]</span><span class="nv">display</span> <span class="m">2</span> <span class="m">1</span><span class="o">↓</span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCD
EFGH
IJKL
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">EFGH
IJKL
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──┐
↓JKL│
└───┘
</span></div></div>
</div>
<p>Note that the last result is still a matrix, it just only has one row.</p>
</div>
<div class="section" id="split">
<h3>Split <code class="docutils literal notranslate"><span class="pre">↓</span></code><a class="headerlink" href="#split" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">↓</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Split.htm">split</a>. It is the opposite of dyadic <code class="docutils literal notranslate"><span class="pre">↓</span></code> in that it lowers the rank and increases the depth:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">↓</span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌────┬────┬────┐
│ABCD│EFGH│IJKL│
└────┴────┴────┘
</span></div></div>
</div>
</div>
</div>
<div class="section" id="id5">
<h2><code class="docutils literal notranslate"><span class="pre">⊂⊃⊆⌷⍋⍒</span></code><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="enclose">
<h3>Enclose <code class="docutils literal notranslate"><span class="pre">⊂</span></code><a class="headerlink" href="#enclose" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">⊂</span></code> <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Enclose.htm">encloses</a> its argument. It packages an arbitrary structure into a scalar. Simple scalars cannot be enclosed. We can turn on boxed output with the <code class="docutils literal notranslate"><span class="pre">]box</span></code> user command to illustrate APL’s array structure in more detail:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="sr">]</span><span class="nv">box</span> <span class="nv">on</span> <span class="o">-</span><span class="nv">s</span><span class="o">=</span><span class="nv">max</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→────────────────┐
│Was ON -style=max│
└─────────────────┘
</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">v</span><span class="kd">←</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span>
<span class="nv">v</span>
<span class="o">⊂</span><span class="nv">v</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──────┐
│1 2 3 4│
└~──────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌───────────┐
│ ┌→──────┐ │
│ │1 2 3 4│ │
│ └~──────┘ │
└∊──────────┘
</span></div></div>
</div>
<p>The little epsilon <code class="docutils literal notranslate"><span class="pre">∊</span></code> in the bottom of the outer box indicates the enclosure.</p>
<p>If we tally an enclosed structure, it should come out as 1:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">≢⊂</span><span class="nv">v</span>   <span class="c1">⍝ an enclosed vector is a scalar</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 
1

</span></div></div>
</div>
<p>Here’s another example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span><span class="o">,</span><span class="p">(</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span>   <span class="c1">⍝ concatenation of two matrices. </span>
<span class="p">(</span><span class="o">⊂</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span><span class="o">,</span><span class="p">(</span><span class="o">⊂</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span> <span class="c1">⍝ concatenation of two enclosed matrices</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→─────┐
↓ABCABC│
│DEFDEF│
│GHIGHI│
└──────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→────────────┐
│ ┌→──┐ ┌→──┐ │
│ ↓ABC│ ↓ABC│ │
│ │DEF│ │DEF│ │
│ │GHI│ │GHI│ │
│ └───┘ └───┘ │
└∊────────────┘
</span></div></div>
</div>
<p>The first gave us a matrix of shape 3 6, the second gave a vector of shape 2.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span><span class="o">,</span><span class="p">(</span><span class="o">⊂</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span> <span class="c1">⍝ concatenation of a matrix and an enclosed matrix </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→────────────┐
↓       ┌→──┐ │
│ A B C ↓ABC│ │
│ - - - │DEF│ │
│       │GHI│ │
│       └───┘ │
│       ┌→──┐ │
│ D E F ↓ABC│ │
│ - - - │DEF│ │
│       │GHI│ │
│       └───┘ │
│       ┌→──┐ │
│ G H I ↓ABC│ │
│ - - - │DEF│ │
│       │GHI│ │
│       └───┘ │
└∊────────────┘
</span></div></div>
</div>
<p>Concatenating a scalar to a matrix uses the scalar for each row. Here the entire right-hand matrix was treated as a scalar because it was enclosed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span><span class="o">,</span><span class="s1">&#39;x&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→───┐
↓ABCx│
│DEFx│
│GHIx│
└────┘
</span></div></div>
</div>
<p>So you can (and should) use <code class="docutils literal notranslate"><span class="pre">⊂</span></code> to tell APL how you want the scalar extension (auto-vectorisation) to be applied.</p>
<p><code class="docutils literal notranslate"><span class="pre">⊂</span></code> is also good for treating text vectors as strings (i.e. in one piece):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;aaa&#39;</span> <span class="s1">&#39;bbb&#39;</span> <span class="s1">&#39;ccc&#39;</span> <span class="o">⍳</span> <span class="s1">&#39;aaa&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→────┐
│4 4 4│
└~────┘
</span></div></div>
</div>
<p>This says that each one of the three right-side ‘a’s is found in position 4 (i.e. are not) in the left-side list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;aaa&#39;</span> <span class="s1">&#39;bbb&#39;</span> <span class="s1">&#39;ccc&#39;</span> <span class="o">⍳</span> <span class="o">⊂</span><span class="s1">&#39;aaa&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 
1

</span></div></div>
</div>
<p>This says that ‘aaa’ is the first string.</p>
</div>
<div class="section" id="partitioned-enclose">
<h3>Partitioned enclose <code class="docutils literal notranslate"><span class="pre">⊂</span></code><a class="headerlink" href="#partitioned-enclose" title="Permalink to this headline">¶</a></h3>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">⊂</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Partitioned%20Enclose.htm">partitioned enclose</a>. It encloses (hence sharing the symbol) pieces of the right argument as indicated by the left argument. Best to use an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span><span class="o">⊂</span><span class="s1">&#39;Hello World&#39;</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→───────────────────────┐
│ ┌→──┐ ┌→─┐ ┌→───┐ ┌→─┐ │
│ │Hel│ │lo│ │ Wor│ │ld│ │
│ └───┘ └──┘ └────┘ └──┘ │
└∊───────────────────────┘
</span></div></div>
</div>
<p>This works on higher rank arrays, too. It partitions along the last axis:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="o">⊂</span> <span class="m">2</span> <span class="m">13</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→───────────────────────────────┐
│ ┌→─┐ ┌→──┐ ┌→─┐ ┌→───┐ ┌→┐ ┌→┐ │
│ ↓AB│ ↓CDE│ ↓FG│ ↓HIJK│ ↓L│ ↓M│ │
│ │NO│ │PQR│ │ST│ │UVWX│ │Y│ │Z│ │
│ └──┘ └───┘ └──┘ └────┘ └─┘ └─┘ │
└∊───────────────────────────────┘
</span></div></div>
</div>
<p>For vectors, <code class="docutils literal notranslate"><span class="pre">1⊂</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">,¨</span></code> which may be useful in trains where you want to have a left argument.
For higher rank arrays, <code class="docutils literal notranslate"><span class="pre">1⊂</span></code> cuts into columns:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="o">⊂</span> <span class="m">2</span> <span class="m">13</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→────────────────────────────────────────────────────┐
│ ┌→┐ ┌→┐ ┌→┐ ┌→┐ ┌→┐ ┌→┐ ┌→┐ ┌→┐ ┌→┐ ┌→┐ ┌→┐ ┌→┐ ┌→┐ │
│ ↓A│ ↓B│ ↓C│ ↓D│ ↓E│ ↓F│ ↓G│ ↓H│ ↓I│ ↓J│ ↓K│ ↓L│ ↓M│ │
│ │N│ │O│ │P│ │Q│ │R│ │S│ │T│ │U│ │V│ │W│ │X│ │Y│ │Z│ │
│ └─┘ └─┘ └─┘ └─┘ └─┘ └─┘ └─┘ └─┘ └─┘ └─┘ └─┘ └─┘ └─┘ │
└∊────────────────────────────────────────────────────┘
</span></div></div>
</div>
<p>You can use brackets to indicate which axis you wish to cut along:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="o">⊂</span><span class="sr">[</span><span class="m">1</span><span class="sr">]</span> <span class="m">2</span> <span class="m">13</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="o">⊂</span><span class="sr">[</span><span class="m">1</span><span class="sr">]</span> <span class="m">4</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→────────────────────────────────┐
│ ┌→────────────┐ ┌→────────────┐ │
│ ↓ABCDEFGHIJKLM│ ↓NOPQRSTUVWXYZ│ │
│ └─────────────┘ └─────────────┘ │
└∊────────────────────────────────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──────────────────┐
│ ┌→──┐ ┌→──┐ ┌→──┐ │
│ ↓ABC│ ↓GHI│ ↓JKL│ │
│ │DEF│ └───┘ └───┘ │
│ └───┘             │
└∊──────────────────┘
</span></div></div>
</div>
<p>Note that the left argument need not be the same length as the right argument. If it’s shorter, it’s assumed to consist of zeros to the end:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍸</span><span class="na">⍣</span><span class="m">¯1</span><span class="o">⊢</span><span class="m">1</span> <span class="m">5</span> <span class="m">10</span>        
<span class="p">(</span><span class="o">⍸</span><span class="na">⍣</span><span class="m">¯1</span><span class="o">⊢</span><span class="m">1</span> <span class="m">5</span> <span class="m">10</span><span class="p">)</span><span class="o">⊂</span><span class="nf">⎕A</span> <span class="c1">⍝ note: left arg is length 10. right arg is length 26</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──────────────────┐
│1 0 0 0 1 0 0 0 0 1│
└~──────────────────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→───────────────────────────────────┐
│ ┌→───┐ ┌→────┐ ┌→────────────────┐ │
│ │ABCD│ │EFGHI│ │JKLMNOPQRSTUVWXYZ│ │
│ └────┘ └─────┘ └─────────────────┘ │
└∊───────────────────────────────────┘
</span></div></div>
</div>
<p>Another common use of dyadic <code class="docutils literal notranslate"><span class="pre">⊂</span></code> is to split a vector into its head and tail:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">1</span><span class="o">⊂</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="m">7</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──────────────────┐
│ ┌→┐ ┌→──────────┐ │
│ │1│ │2 3 4 5 6 7│ │
│ └~┘ └~──────────┘ │
└∊──────────────────┘
</span></div></div>
</div>
</div>
<div class="section" id="disclose">
<h3>Disclose <code class="docutils literal notranslate"><span class="pre">⊃</span></code><a class="headerlink" href="#disclose" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">⊃</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Disclose.htm">disclose</a>, which is pretty much the inverse of monadic <code class="docutils literal notranslate"><span class="pre">⊂</span></code>. It discloses a scalar (again, if possible; a simple scalar remains the same). If you use it on a high rank array (i.e. not enclosed), it will give you the first (top left) element:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>      <span class="c1">⍝ 3x3 matrix</span>
<span class="o">⊂</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>     <span class="c1">⍝ enclosed</span>
<span class="o">⊃⊂</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>    <span class="c1">⍝ disclose enclosed</span>
<span class="o">⊃</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>     <span class="c1">⍝ dislclose unenclosed gives the first element</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──┐
↓ABC│
│DEF│
│GHI│
└───┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌───────┐
│ ┌→──┐ │
│ ↓ABC│ │
│ │DEF│ │
│ │GHI│ │
│ └───┘ │
└∊──────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──┐
↓ABC│
│DEF│
│GHI│
└───┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace"> 
A
-
</span></div></div>
</div>
<p>The last feature (“first”) means that you can combine it with reverses etc, to get corner elements:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⊃⌽</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span> <span class="c1">⍝ top right</span>
<span class="o">⊃⊖</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span> <span class="c1">⍝ bottom left </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 
C
-
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace"> 
G
-
</span></div></div>
</div>
<p>You can use it with <code class="docutils literal notranslate"><span class="pre">¨</span></code> (<a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Operators/Each%20with%20Monadic%20Operand.htm">each</a>) to get initials:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⊃</span><span class="na">¨</span><span class="s1">&#39;Kenneth&#39;</span> <span class="s1">&#39;Eugene&#39;</span> <span class="s1">&#39;Iverson&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──┐
│KEI│
└───┘
</span></div></div>
</div>
</div>
<div class="section" id="pick">
<h3>Pick <code class="docutils literal notranslate"><span class="pre">⊃</span></code><a class="headerlink" href="#pick" title="Permalink to this headline">¶</a></h3>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">⊃</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Pick.htm">pick</a>. It digs into nested arrays. Every scalar on its left is the index of an element in subsequent layers of nestedness:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">⊂</span><span class="m">2</span> <span class="m">3</span><span class="p">)</span><span class="o">⊃</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">2</span> <span class="m">3</span> <span class="m">1</span><span class="o">⊃</span><span class="p">(</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span><span class="p">)(</span><span class="m">4</span> <span class="m">5</span> <span class="p">(</span><span class="m">6</span> <span class="m">7</span> <span class="m">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 
F
-
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace"> 
6

</span></div></div>
</div>
<p>We can demonstrate this further. Here is a 2-by-2 matrix of two-element vectors:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="p">(</span><span class="m">1</span> <span class="m">2</span><span class="p">)(</span><span class="m">3</span> <span class="m">4</span><span class="p">)(</span><span class="m">5</span> <span class="m">6</span><span class="p">)(</span><span class="m">7</span> <span class="m">8</span><span class="p">)</span>
<span class="p">(</span><span class="m">1</span> <span class="m">2</span><span class="p">)</span> <span class="m">2</span><span class="o">⊃</span><span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="p">(</span><span class="m">1</span> <span class="m">2</span><span class="p">)(</span><span class="m">3</span> <span class="m">4</span><span class="p">)(</span><span class="m">5</span> <span class="m">6</span><span class="p">)(</span><span class="m">7</span> <span class="m">8</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→────────────┐
↓ ┌→──┐ ┌→──┐ │
│ │1 2│ │3 4│ │
│ └~──┘ └~──┘ │
│ ┌→──┐ ┌→──┐ │
│ │5 6│ │7 8│ │
│ └~──┘ └~──┘ │
└∊────────────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace"> 
4

</span></div></div>
</div>
<p>In the last statement, the first index is 1 2, which picks the element (3 4), and the second index is 2, which picks the 4.</p>
</div>
<div class="section" id="nest">
<h3>Nest <code class="docutils literal notranslate"><span class="pre">⊆</span></code><a class="headerlink" href="#nest" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">⊆</span></code> is called <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Nest.htm">nest</a> because it guarantees you that the result is nested (non-simple). <code class="docutils literal notranslate"><span class="pre">(1</span> <span class="pre">2)(3</span> <span class="pre">4</span> <span class="pre">5)</span></code> is already nested, and <code class="docutils literal notranslate"><span class="pre">⊆</span></code> won’t do anything:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">1</span> <span class="m">2</span><span class="p">)(</span><span class="m">3</span> <span class="m">4</span> <span class="m">5</span><span class="p">)</span>
<span class="o">⊆</span><span class="p">(</span><span class="m">1</span> <span class="m">2</span><span class="p">)(</span><span class="m">3</span> <span class="m">4</span> <span class="m">5</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──────────────┐
│ ┌→──┐ ┌→────┐ │
│ │1 2│ │3 4 5│ │
│ └~──┘ └~────┘ │
└∊──────────────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──────────────┐
│ ┌→──┐ ┌→────┐ │
│ │1 2│ │3 4 5│ │
│ └~──┘ └~────┘ │
└∊──────────────┘
</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">2</span> <span class="pre">3</span></code> is not nested, so <code class="docutils literal notranslate"><span class="pre">⊆</span></code> will nest it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span>
<span class="o">⊆</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→────┐
│1 2 3│
└~────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌─────────┐
│ ┌→────┐ │
│ │1 2 3│ │
│ └~────┘ │
└∊────────┘
</span></div></div>
</div>
<p>Works on higher rank too, of course:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span> <span class="m">3</span><span class="o">⍴⊂</span><span class="s1">&#39;abc&#39;</span>
<span class="o">⊆</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴⊂</span><span class="s1">&#39;abc&#39;</span> <span class="c1">⍝ already nested, so no-op </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──────────────────┐
↓ ┌→──┐ ┌→──┐ ┌→──┐ │
│ │abc│ │abc│ │abc│ │
│ └───┘ └───┘ └───┘ │
│ ┌→──┐ ┌→──┐ ┌→──┐ │
│ │abc│ │abc│ │abc│ │
│ └───┘ └───┘ └───┘ │
└∊──────────────────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──────────────────┐
↓ ┌→──┐ ┌→──┐ ┌→──┐ │
│ │abc│ │abc│ │abc│ │
│ └───┘ └───┘ └───┘ │
│ ┌→──┐ ┌→──┐ ┌→──┐ │
│ │abc│ │abc│ │abc│ │
│ └───┘ └───┘ └───┘ │
└∊──────────────────┘
</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="s1">&#39;abc&#39;</span>   <span class="c1">⍝ not nested</span>
<span class="o">⊆</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="s1">&#39;abc&#39;</span>  <span class="c1">⍝ nested</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──┐
↓abc│
│abc│
└───┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌───────┐
│ ┌→──┐ │
│ ↓abc│ │
│ │abc│ │
│ └───┘ │
└∊──────┘
</span></div></div>
</div>
</div>
<div class="section" id="partition">
<h3>Partition <code class="docutils literal notranslate"><span class="pre">⊆</span></code><a class="headerlink" href="#partition" title="Permalink to this headline">¶</a></h3>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">⊆</span></code> is called <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Partition.htm">partition</a> (<code class="docutils literal notranslate"><span class="pre">⊂</span></code> and <code class="docutils literal notranslate"><span class="pre">⊆</span></code> originate with different APL dialects, but Dyalog APL features both). To distinguish between them, we call <code class="docutils literal notranslate"><span class="pre">⊂</span></code> <em>partitioned enclose</em> and <code class="docutils literal notranslate"><span class="pre">⊆</span></code> just <em>partition</em>, but it doesn’t say much.</p>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">⊆</span></code> works similarly to dyadic <code class="docutils literal notranslate"><span class="pre">⊂</span></code>, but with different rules for the left argument. The left argument is non-negative integer instead of Boolean, and new partitions begin whenever an element is higher than its neighbour on the left. Also, elements indicated by 0s are dropped completely:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="m">3</span> <span class="m">2</span> <span class="m">2</span> <span class="m">5</span> <span class="m">5</span> <span class="m">0</span><span class="o">⊆</span><span class="s1">&#39;Hello World&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→────────────────────┐
│ ┌→┐ ┌→─┐ ┌→──┐ ┌→─┐ │
│ │H│ │lo│ │ Wo│ │rl│ │
│ └─┘ └──┘ └───┘ └──┘ │
└∊────────────────────┘
</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">1⊆array</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">,⊂array</span></code> but uses a single dyadic function instead of two monadic ones, i.e. great for trains.</p>
</div>
<div class="section" id="materialise">
<h3>Materialise <code class="docutils literal notranslate"><span class="pre">⌷</span></code><a class="headerlink" href="#materialise" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">⌷</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Materialise.htm">materialise</a>. It is almost the same as monadic <code class="docutils literal notranslate"><span class="pre">⊢</span></code> (i.e. <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Right.htm">identity</a>). However, it will materialise the default property of a class. For collections, this means the <em>Item</em> property, so in effect it turns collections into vectors of items.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="sr">]</span><span class="nv">dinput</span>
<span class="bp">:</span><span class="nv">Class</span> <span class="nv">cl</span>
    <span class="bp">:</span><span class="nv">Property</span> <span class="nv">Default</span> <span class="nv">thing</span>
    <span class="bp">:</span><span class="nv">Access</span> <span class="nv">Public</span> <span class="nv">Shared</span>
        <span class="bp">∇</span> <span class="nv">r</span><span class="kd">←</span><span class="nv">get</span>
          <span class="nv">r</span><span class="kd">←</span><span class="m">3</span> <span class="m">1</span> <span class="m">4</span> <span class="m">1</span> <span class="m">4</span>
        <span class="bp">∇</span>
    <span class="bp">:</span><span class="nv">EndProperty</span>
<span class="bp">:</span><span class="nv">EndClass</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nv">cl</span><span class="na">.</span><span class="nv">thing</span>
<span class="o">⊢</span><span class="nv">cl</span>
<span class="o">⌷</span><span class="nv">cl</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→────────┐
│3 1 4 1 4│
└~────────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">    
#.cl

</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→────────┐
│3 1 4 1 4│
└~────────┘
</span></div></div>
</div>
</div>
<div class="section" id="index">
<h3>Index <code class="docutils literal notranslate"><span class="pre">⌷</span></code><a class="headerlink" href="#index" title="Permalink to this headline">¶</a></h3>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">⌷</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Index.htm">index</a>. It is similar to <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Pick.htm">pick</a>, dyadic <code class="docutils literal notranslate"><span class="pre">⊃</span></code>, but works its way into the rank instead of the depth. On a 3D array, the first element selects layer, the second row, the third column:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">2</span><span class="o">⌷</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">2</span> <span class="m">1</span><span class="o">⌷</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">2</span> <span class="m">1</span> <span class="m">3</span><span class="o">⌷</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌┌→───┐
↓↓ABCD│
││EFGH│
││IJKL│
││    │
││MNOP│
││QRST│
││UVWX│
└└────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→───┐
↓MNOP│
│QRST│
│UVWX│
└────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→───┐
│MNOP│
└────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace"> 
O
-
</span></div></div>
</div>
<p>Each element of the left argument may be may be any simple array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">⊂</span><span class="m">1</span> <span class="m">1</span><span class="p">)</span><span class="o">⌷</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">2</span> <span class="p">(</span><span class="m">1</span> <span class="m">3</span><span class="p">)</span><span class="o">⌷</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span> <span class="c1">⍝ first and third row of second layer </span>
<span class="p">(</span><span class="m">1</span> <span class="m">2</span><span class="p">)</span><span class="m">1</span> <span class="m">3</span><span class="o">⌷</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span> <span class="c1">⍝ third char of first row of layers 1 and 2 </span>
<span class="p">(</span><span class="m">1</span> <span class="m">2</span><span class="p">)(</span><span class="m">2</span> <span class="m">3</span><span class="p">)</span><span class="o">⌷</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span> <span class="c1">⍝ rows 2 and 3 of each of layers 1 and 2 </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌┌→───┐
↓↓ABCD│
││EFGH│
││IJKL│
││    │
││ABCD│
││EFGH│
││IJKL│
└└────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→───┐
↓MNOP│
│UVWX│
└────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→─┐
│CO│
└──┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌┌→───┐
↓↓EFGH│
││IJKL│
││    │
││QRST│
││UVWX│
└└────┘
</span></div></div>
</div>
</div>
<div class="section" id="grade-up-down">
<h3>Grade up/down <code class="docutils literal notranslate"><span class="pre">⍋⍒</span></code><a class="headerlink" href="#grade-up-down" title="Permalink to this headline">¶</a></h3>
<p>Next up is <code class="docutils literal notranslate"><span class="pre">⍋</span></code>, called <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Grade%20Up%20Monadic.htm">grade up</a>. Monadic <code class="docutils literal notranslate"><span class="pre">⍋</span></code> takes a simple (non-nested) array and returns the indices of the major cells reordered so that they would order the array.</p>
<p>Easiest to understand with an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍋</span><span class="m">3</span> <span class="m">1</span> <span class="m">4</span> <span class="m">1</span> <span class="m">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">2 4 1 3 5
</span></div></div>
</div>
<p>This means that the second element (1) is the smallest, then the fourth (1), then the first (3), etc. So, we can use this to sort the array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">1</span> <span class="m">4</span> <span class="m">1</span> <span class="m">5</span><span class="sr">[</span><span class="o">⍋</span><span class="m">3</span> <span class="m">1</span> <span class="m">4</span> <span class="m">1</span> <span class="m">5</span><span class="sr">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 1 3 4 5
</span></div></div>
</div>
<p>It works on high-rank arrays too:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">2</span><span class="o">⍴</span><span class="m">2</span> <span class="m">7</span> <span class="m">1</span> <span class="m">8</span> <span class="m">2</span> <span class="m">8</span>
<span class="o">⍋</span><span class="m">3</span> <span class="m">2</span><span class="o">⍴</span><span class="m">2</span> <span class="m">7</span> <span class="m">1</span> <span class="m">8</span> <span class="m">2</span> <span class="m">8</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">2 7
1 8
2 8
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">2 1 3
</span></div></div>
</div>
<p>So the first is row 2 <code class="docutils literal notranslate"><span class="pre">(1</span> <span class="pre">8)</span></code> then row 1 <code class="docutils literal notranslate"><span class="pre">(2</span> <span class="pre">7)</span></code> then row 3 <code class="docutils literal notranslate"><span class="pre">(2</span> <span class="pre">8)</span></code>. It works on characters too, where it grades in Unicode point order:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">5</span> <span class="m">2</span><span class="o">⍴</span><span class="s1">&#39;HelloWorld&#39;</span>
<span class="o">⍋</span><span class="m">5</span> <span class="m">2</span><span class="o">⍴</span><span class="s1">&#39;HelloWorld&#39;</span>
<span class="p">(</span><span class="m">5</span> <span class="m">2</span><span class="o">⍴</span><span class="s1">&#39;HelloWorld&#39;</span><span class="p">)</span><span class="sr">[</span><span class="o">⍋</span><span class="m">5</span> <span class="m">2</span><span class="o">⍴</span><span class="s1">&#39;HelloWorld&#39;</span><span class="sr">;]</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">He
ll
oW
or
ld
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">1 5 2 3 4
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">He
ld
ll
oW
or
</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">4</span> <span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="s1">&#39;Hello World PPCG&#39;</span>   
<span class="o">⍋</span><span class="m">4</span> <span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="s1">&#39;Hello World PPCG&#39;</span>  <span class="c1">⍝ layer grade up</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">He
ll

o 
Wo

rl
d 

PP
CG
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">1 4 2 3
</span></div></div>
</div>
<p>Layer 1, layer 4, layer 2, layer 3:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="kt">{</span><span class="bp">⍵</span><span class="sr">[</span><span class="o">⍋</span><span class="bp">⍵</span><span class="sr">;;]</span><span class="kt">}</span><span class="m">4</span> <span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="s1">&#39;Hello World PPCG&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">He
ll

PP
CG

o 
Wo

rl
d 
</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">⍋⍋</span></code> is the cardinal numbers:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍋</span><span class="s1">&#39;PPCG&#39;</span> 
<span class="o">⍋⍋</span><span class="s1">&#39;PPCG&#39;</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">3 4 1 2
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">3 4 1 2
</span></div></div>
</div>
<p>So P is the third, P is the fourth, C is the first, and G is the second. Applying <code class="docutils literal notranslate"><span class="pre">⍋</span></code> to a permutation inverts it (swaps between cardinal and grade). Another way to think about it is that <code class="docutils literal notranslate"><span class="pre">⍋</span></code> is the indices of cells in the order that would sort them. <code class="docutils literal notranslate"><span class="pre">⍋⍋</span></code> is the position each will take when sorted. If you think about it hard, you’ll see why ⍋ swaps back and forth between these two.</p>
<p>Here’s an example where the grade and the cardinals differ:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍋</span><span class="s1">&#39;random&#39;</span>
<span class="o">⍋⍋</span><span class="s1">&#39;random&#39;</span> 
<span class="o">⍋⍋⍋</span><span class="s1">&#39;random&#39;</span>  <span class="c1">⍝ grading the cardinals takes us back to grade</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">2 4 6 3 5 1
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">6 1 4 2 5 3
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">2 4 6 3 5 1
</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">⍋</span></code> once is what order the elements would be in when sorted and <code class="docutils literal notranslate"><span class="pre">⍋</span></code> twice is the indices that each element would go to.</p>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">⍋</span></code> is for character arrays only, and it grades as if the left argument was the alphabet:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="kt">{</span><span class="bp">⍵</span><span class="sr">[</span><span class="s1">&#39;aeioubcdfghjklmnpqrstvwxyz&#39;</span><span class="o">⍋</span><span class="bp">⍵</span><span class="sr">]</span><span class="kt">}</span><span class="s1">&#39;helloworld&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">eoodhlllrw
</span></div></div>
</div>
<p>If characters are missing from the alphabet, they will be considered after the alphabet, and equivalent:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;abcdefgh&#39;</span><span class="o">⍋</span><span class="s1">&#39;hawl&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">2 1 3 4
</span></div></div>
</div>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">⍋</span></code> can also use multiple levels of sorting:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍉↑</span><span class="s1">&#39;aeiou&#39;</span> <span class="s1">&#39;bcdfghjklmnpqrstvwxyz&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ab
ec
id
of
ug
 h
 j
 k
 l
 m
 n
 p
 q
 r
 s
 t
 v
 w
 x
 y
 z
</span></div></div>
</div>
<p>This 2D “alphabet” means that all vowels should come before all consonants, and only if otherwise the same, the vertical order will be considered.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="kt">{</span><span class="bp">⍵</span><span class="sr">[</span><span class="p">(</span><span class="o">⍉↑</span><span class="s1">&#39;aeiou&#39;</span> <span class="s1">&#39;bcdfghjklmnpqrstvwxyz&#39;</span><span class="p">)</span><span class="o">⍋</span><span class="bp">⍵</span><span class="sr">]</span><span class="kt">}</span><span class="s1">&#39;helloworld&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">eoodhlllrw
</span></div></div>
</div>
<p>This sorted all vowels before all consonants, and only then did it sort the vowels and the consonants. You can have up to 15 levels of sorting using this. If a letter occurs more than once, then its first occurrence rules. This is useful to fill gaps in (e.g.) columns of unequal height.</p>
<p>There is also <code class="docutils literal notranslate"><span class="pre">⍒</span></code>, which is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Grade%20Down%20Monadic.htm">grade down</a>, which follows the pattern of <code class="docutils literal notranslate"><span class="pre">⍋</span></code>, but sorts the other way.</p>
</div>
</div>
<div class="section" id="id6">
<h2><code class="docutils literal notranslate"><span class="pre">⍳⍸∊⍷∪∩~</span></code><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<div class="section" id="index-generator">
<h3>Index generator <code class="docutils literal notranslate"><span class="pre">⍳</span></code><a class="headerlink" href="#index-generator" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">⍳</span></code> is the <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Index%20Generator.htm">index generator</a>. <code class="docutils literal notranslate"><span class="pre">⍳a</span></code> generates an array of shape a where the elements are the indices for that element:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍳</span><span class="m">10</span>
<span class="o">⍳</span><span class="m">2</span> <span class="m">4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3 4 5 6 7 8 9 10
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌───┬───┬───┬───┐
│1 1│1 2│1 3│1 4│
├───┼───┼───┼───┤
│2 1│2 2│2 3│2 4│
└───┴───┴───┴───┘
</span></div></div>
</div>
<p>Any bets on what <code class="docutils literal notranslate"><span class="pre">⍳0</span></code> gives?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="sr">]</span><span class="nv">display</span> <span class="o">⍳</span><span class="m">0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌⊖┐
│0│
└~┘
</span></div></div>
</div>
<p>The empty numeric list. What about <code class="docutils literal notranslate"><span class="pre">⍳0</span> <span class="pre">0</span></code>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="sr">]</span><span class="nv">display</span> <span class="o">⍳</span><span class="m">0</span> <span class="m">0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌⊖──────┐
⌽ ┌→──┐ │
│ │0 0│ │
│ └~──┘ │
└∊──────┘
</span></div></div>
</div>
<p>This is the same as <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">0⍴⍬</span></code>; a 0x0 empty numeric matrix.</p>
</div>
<div class="section" id="index-of">
<h3>Index-of <code class="docutils literal notranslate"><span class="pre">⍳</span></code><a class="headerlink" href="#index-of" title="Permalink to this headline">¶</a></h3>
<p>The dyadic version <code class="docutils literal notranslate"><span class="pre">A⍳B</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Index%20Of.htm">index-of</a>. It finds the first occurrence of the major cells of <code class="docutils literal notranslate"><span class="pre">B</span></code> in the major cells of <code class="docutils literal notranslate"><span class="pre">A</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;hello&#39;</span><span class="o">⍳</span><span class="s1">&#39;l&#39;</span>
<span class="s1">&#39;hello&#39;</span><span class="o">⍳</span><span class="s1">&#39;lo&#39;</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">3
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">3 5
</span></div></div>
</div>
<p>If a cell is not a member, it will return a number one higher than the number of elements:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;hello&#39;</span><span class="o">⍳</span><span class="s1">&#39;x&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">6
</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">3</span> <span class="m">2</span><span class="o">⍴</span><span class="s1">&#39;abcdef&#39;</span><span class="p">)</span><span class="o">⍳</span><span class="p">(</span><span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="s1">&#39;cdxy&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">2 4
</span></div></div>
</div>
<p>So the “cd” row is the second one, and the “xy” row is not there. This behaviour for elements that are not there is really useful for supplying a “default”:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;First&#39;</span> <span class="s1">&#39;Second&#39;</span> <span class="s1">&#39;Third&#39;</span> <span class="s1">&#39;Missing&#39;</span><span class="sr">[</span><span class="s1">&#39;abc&#39;</span><span class="o">⍳</span><span class="s1">&#39;cdab&#39;</span><span class="sr">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌─────┬───────┬─────┬──────┐
│Third│Missing│First│Second│
└─────┴───────┴─────┴──────┘
</span></div></div>
</div>
</div>
<div class="section" id="where">
<h3>Where <code class="docutils literal notranslate"><span class="pre">⍸</span></code><a class="headerlink" href="#where" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">⍸</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Where.htm">where</a>. It just takes a simple array and returns the list of non-zero indices.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍸</span><span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">2 4 5
</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⊢</span><span class="nv">m</span><span class="kd">←</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="m">0</span>
<span class="o">⍸</span><span class="nv">m</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 1 0
1 1 0
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌───┬───┬───┐
│1 2│2 1│2 2│
└───┴───┴───┘
</span></div></div>
</div>
<p>If the argument array is not Boolean, the values are taken to mean the repeat count for each index:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍸</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="m">0</span> <span class="m">2</span> <span class="m">0</span> <span class="m">2</span> <span class="m">2</span> <span class="m">0</span>              
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌───┬───┬───┬───┬───┬───┐
│1 2│1 2│2 1│2 1│2 2│2 2│
└───┴───┴───┴───┴───┴───┘
</span></div></div>
</div>
<p>A code golf trick: sum a Boolean array with <code class="docutils literal notranslate"><span class="pre">≢⍸</span></code> instead of <code class="docutils literal notranslate"><span class="pre">+/</span></code>,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">≢⍸</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="m">0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">3
</span></div></div>
</div>
</div>
<div class="section" id="interval-index">
<h3>Interval index <code class="docutils literal notranslate"><span class="pre">⍸</span></code><a class="headerlink" href="#interval-index" title="Permalink to this headline">¶</a></h3>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">⍸</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Interval%20Index.htm">interval index</a>. It takes a list of sorted arrays on the left, and for each array on the right, tells which “gap” (interval) it belongs.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">10</span> <span class="m">100</span> <span class="m">1000</span><span class="o">⍸</span><span class="m">0</span> <span class="m">500</span> <span class="m">2000</span> <span class="m">3</span> <span class="m">10</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 3 4 1 2
</span></div></div>
</div>
<p>So 0 is in interval number 0 (that is, before 1–10). 500 is in interval 3, which is 100–1000, etc.
And as you can see from 10, it is in interval 2; 10–100. So intervals are [min,max).
For higher rank arrays, it works like <em>grade</em>, i.e. on major cells.</p>
</div>
<div class="section" id="membership">
<h3>Membership <code class="docutils literal notranslate"><span class="pre">∊</span></code><a class="headerlink" href="#membership" title="Permalink to this headline">¶</a></h3>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">∊</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Membership.htm">membership</a>. For each scalar in the left argument, return a Boolean if it is a member of the right argument:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;aeiou&#39;</span><span class="o">∊</span><span class="s1">&#39;Hello World&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 1 0 1 0
</span></div></div>
</div>
<p>Question:</p>
<blockquote>
<div><p>Does APL have an “insert at index” command? As in, given an array, an index and a value, insert value at the index in the array. Example: [1, 2, 4, 5], 2, 3 =&gt; [1, 2, 3, 4, 5]</p>
</div></blockquote>
<p>There are a couple of approaches:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">∊</span><span class="p">(</span><span class="o">⊂,</span><span class="na">∘</span><span class="m">3</span><span class="p">)</span><span class="na">@</span><span class="m">2</span><span class="o">⊢</span><span class="m">1</span> <span class="m">2</span> <span class="m">4</span> <span class="m">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3 4 5
</span></div></div>
</div>
<p>This appended a 3 to the 2, then flattened. You flatten with monadic <code class="docutils literal notranslate"><span class="pre">∊</span></code> which is the function we’re up to. A more traditional and better performing approach would be:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="kt">{</span><span class="m">3</span><span class="na">@</span><span class="p">(</span><span class="m">1</span><span class="o">+</span><span class="m">2</span><span class="p">)</span><span class="o">⊢</span><span class="bp">⍵</span><span class="na">\⍨</span><span class="m">1</span><span class="o">+</span><span class="m">2</span><span class="o">=⍳≢</span><span class="bp">⍵</span><span class="kt">}</span><span class="m">1</span> <span class="m">2</span> <span class="m">4</span> <span class="m">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3 4 5
</span></div></div>
</div>
<p>but we have not covered the <code class="docutils literal notranslate"><span class="pre">\</span></code> function yet.</p>
</div>
<div class="section" id="enlist">
<h3>Enlist <code class="docutils literal notranslate"><span class="pre">∊</span></code><a class="headerlink" href="#enlist" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">∊</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Enlist.htm">enlist</a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⊢</span><span class="nv">m</span><span class="kd">←</span><span class="p">(</span><span class="o">⍳</span><span class="m">3</span><span class="p">)(</span><span class="m">2</span> <span class="m">2</span><span class="o">⍴⍳</span><span class="m">4</span><span class="p">)</span>
<span class="o">∊</span><span class="nv">m</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌─────┬───┐
│1 2 3│1 2│
│     │3 4│
└─────┴───┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3 1 2 3 4
</span></div></div>
</div>
</div>
<div class="section" id="find">
<h3>Find <code class="docutils literal notranslate"><span class="pre">⍷</span></code><a class="headerlink" href="#find" title="Permalink to this headline">¶</a></h3>
<p>Next up is <code class="docutils literal notranslate"><span class="pre">⍷</span></code> which is (as of yet) only dyadic. <code class="docutils literal notranslate"><span class="pre">⍷</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Find.htm">find</a>. It returns a Boolean array of the right argument’s shape with a 1 at the “top left” corner of occurrences of the left argument in the right argument:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;ss&#39;</span><span class="o">⍷</span><span class="s1">&#39;Mississippi&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 0 1 0 0 1 0 0 0 0 0
</span></div></div>
</div>
<p>The ones here indicate the left “s” wherever “ss” begins. It also works for overlaps,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;aba&#39;</span><span class="o">⍷</span><span class="s1">&#39;alababa&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 0 1 0 1 0 0
</span></div></div>
</div>
<p>and for higher-rank arrays:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="m">0</span> <span class="m">1</span> <span class="m">0</span>
<span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="m">0</span>
<span class="p">(</span><span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="m">0</span> <span class="m">1</span> <span class="m">0</span><span class="p">)</span><span class="o">⍷</span><span class="p">(</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="m">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 1
0 0
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">0 1 1
0 0 1
1 0 0
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">1 0 0
0 1 0
0 0 0
</span></div></div>
</div>
<p>and also for nested arrays, too:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;aa&#39;</span> <span class="s1">&#39;bbb&#39;</span><span class="o">⍷</span><span class="s1">&#39;c&#39;</span> <span class="s1">&#39;aa&#39;</span> <span class="s1">&#39;bbb&#39;</span> <span class="s1">&#39;dddd&#39;</span> <span class="s1">&#39;aa&#39;</span> <span class="s1">&#39;aa&#39;</span> <span class="s1">&#39;bbb&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 1 0 0 0 1 0
</span></div></div>
</div>
<p>Quiz using <code class="docutils literal notranslate"><span class="pre">⍷</span></code>: Determine if A is a prefix of B.</p>
<details><summary><a>Click for quiz answer</a></summary><code>⊃⍷</code></details><p>How about: Is A a suffix of B?</p>
<details><summary><a>Click for quiz answer</a></summary><code>{⊃(⊖⍺)⍷⊖⍵}</code></details></div>
<div class="section" id="union">
<h3>Union <code class="docutils literal notranslate"><span class="pre">∪</span></code><a class="headerlink" href="#union" title="Permalink to this headline">¶</a></h3>
<p>Next function is dyadic <code class="docutils literal notranslate"><span class="pre">∪</span></code>. It is basically <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Union.htm">union</a> of multi-sets. However, it is symmetrical in a way you can often use to your advantage:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;abcc&#39;</span><span class="o">∪</span><span class="s1">&#39;cda&#39;</span>
<span class="s1">&#39;cda&#39;</span><span class="o">∪</span><span class="s1">&#39;abcc&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">abccd
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">cdab
</span></div></div>
</div>
<p>It preserves duplicates from the left argument, while only adding the items from the right necessary to make the result contain all elements from both. It will add duplicate elements from the right if they are not in the left, though:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;abcc&#39;</span><span class="o">∪</span><span class="s1">&#39;cdda&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">abccdd
</span></div></div>
</div>
</div>
<div class="section" id="unique">
<h3>Unique <code class="docutils literal notranslate"><span class="pre">∪</span></code><a class="headerlink" href="#unique" title="Permalink to this headline">¶</a></h3>
<p>The monadic <code class="docutils literal notranslate"><span class="pre">∪</span></code> is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Unique.htm">unique</a>. It simply removes duplicates:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">∪</span><span class="s1">&#39;Mississippi&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">Misp
</span></div></div>
</div>
</div>
<div class="section" id="intersection">
<h3>Intersection <code class="docutils literal notranslate"><span class="pre">∩</span></code><a class="headerlink" href="#intersection" title="Permalink to this headline">¶</a></h3>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">∩</span></code> is, of course, <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Intersection.htm">intersection</a>, again asymmetric:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;abcc&#39;</span><span class="o">∩</span><span class="s1">&#39;cda&#39;</span>
<span class="s1">&#39;cda&#39;</span><span class="o">∩</span><span class="s1">&#39;abcc&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">acc
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">ca
</span></div></div>
</div>
<p>It removes elements from the left which are not present in the right. Duplicates in the right do not matter.</p>
</div>
<div class="section" id="without">
<h3>Without <code class="docutils literal notranslate"><span class="pre">~</span></code><a class="headerlink" href="#without" title="Permalink to this headline">¶</a></h3>
<p>The last multi-set function is dyadic <code class="docutils literal notranslate"><span class="pre">~</span></code> which is <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Excluding.htm">without</a> or <em>except</em>. It simply removes from the left whatever is on the right. Note that it can take even high-rank right arguments.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;Mississippi&#39;</span><span class="o">~</span><span class="s1">&#39;pss&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">Miiii
</span></div></div>
</div>
</div>
<div class="section" id="not">
<h3>NOT <code class="docutils literal notranslate"><span class="pre">~</span></code><a class="headerlink" href="#not" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">~</span></code> is logical <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Not.htm">NOT</a>, simply swapping <code class="docutils literal notranslate"><span class="pre">1→0</span></code> and <code class="docutils literal notranslate"><span class="pre">0→1</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="m">0</span><span class="p">)</span> <span class="p">(</span><span class="o">~</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="m">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌─────┬─────┐
│0 1 1│1 0 0│
│0 0 1│1 1 0│
│1 0 0│0 1 1│
└─────┴─────┘
</span></div></div>
</div>
</div>
</div>
<div class="section" id="id7">
<h2><code class="docutils literal notranslate"><span class="pre">/\⌿⍀,⍪</span></code><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<div class="section" id="replicate">
<h3>Replicate <code class="docutils literal notranslate"><span class="pre">/</span></code><a class="headerlink" href="#replicate" title="Permalink to this headline">¶</a></h3>
<p>Next up is <code class="docutils literal notranslate"><span class="pre">/</span></code>. When what’s on its left is an array rather than a function it instead acts like a function, which makes it unusual. We cover the operator case of <code class="docutils literal notranslate"><span class="pre">/</span></code> elsewhere, e.g. <code class="docutils literal notranslate"><span class="pre">+/</span></code> for sum.</p>
<p>As a function, <code class="docutils literal notranslate"><span class="pre">/</span></code> is called <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Replicate.htm">replicate</a>. It replicates each element on the right to as many copies as indicated by the corresponding element on the left:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">1</span> <span class="m">2</span> <span class="m">1</span> <span class="m">2</span> <span class="m">1</span> <span class="m">2</span> <span class="m">1</span><span class="na">/</span><span class="s1">&#39;Misisipi&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">Mississippi
</span></div></div>
</div>
<p>A more common usage is with a Boolean left argument, where it then acts as a filter:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span><span class="na">/</span><span class="s1">&#39;Hello World&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">HllWrld
</span></div></div>
</div>
<p>It has one more trick: if you use a negative number, then it replaces the corresponding element with that many prototypes (spaces for characters and zeros for numbers):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">1</span> <span class="m">¯1</span> <span class="m">1</span> <span class="m">1</span><span class="na">/</span><span class="s1">&#39;Hello&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">He lo
</span></div></div>
</div>
<p>You can also use a single scalar to “empty” an array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">0</span><span class="na">/</span><span class="s1">&#39;abc&#39;</span>
<span class="m">1</span><span class="na">/</span><span class="s1">&#39;abc&#39;</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">abc
</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">1/x</span></code> can also be used to ensure that <code class="docutils literal notranslate"><span class="pre">x</span></code> has at least one dimension (it ravels scalars, leaving all other arrays untouched):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍴</span><span class="m">1</span><span class="na">/</span><span class="m">8</span>   <span class="c1">⍝ Scalar becomes vector, rank 1</span>
<span class="o">⍴</span><span class="m">1</span><span class="na">/</span><span class="m">8</span> <span class="m">8</span> <span class="c1">⍝ Higher ranks remain untouched</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">2
</span></div></div>
</div>
</div>
<div class="section" id="expand">
<h3>Expand <code class="docutils literal notranslate"><span class="pre">\</span></code><a class="headerlink" href="#expand" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">/</span></code> has a cousin, <code class="docutils literal notranslate"><span class="pre">\</span></code>, which, when used as a function, is called <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Expand.htm">expand</a>.</p>
<p>Positive numbers on the left also replicate like with <code class="docutils literal notranslate"><span class="pre">/</span></code> but negative numbers insert that many prototypical elements at that position:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">1</span> <span class="m">¯1</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span><span class="na">\</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 0 3 4 5
</span></div></div>
</div>
<p>You can use <code class="docutils literal notranslate"><span class="pre">0</span></code> instead of <code class="docutils literal notranslate"><span class="pre">¯1</span></code> which makes it convenient to use Boolean left arguments.</p>
<p>We can now begin to see how we can insert into an array. Let’s go back to the problem of inserting 3 in between 2 and 4 in the list 1 2 4 5. Our method was:</p>
<p>Get the indices of the elements:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍳≢</span><span class="m">1</span> <span class="m">2</span> <span class="m">4</span> <span class="m">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3 4
</span></div></div>
</div>
<p>Look where the index is 2:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span><span class="o">=⍳≢</span><span class="m">1</span> <span class="m">2</span> <span class="m">4</span> <span class="m">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 1 0 0
</span></div></div>
</div>
<p>That’s where we want to expand:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span><span class="o">+</span><span class="m">2</span><span class="o">=⍳≢</span><span class="m">1</span> <span class="m">2</span> <span class="m">4</span> <span class="m">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 1 1
</span></div></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">\</span></code> to perform the expansion:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">1</span><span class="o">+</span><span class="m">2</span><span class="o">=⍳≢</span><span class="m">1</span> <span class="m">2</span> <span class="m">4</span> <span class="m">5</span><span class="p">)</span><span class="na">\</span><span class="m">1</span> <span class="m">2</span> <span class="m">4</span> <span class="m">5</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 2 4 5
</span></div></div>
</div>
<p>Replace the extra 2 with our desired element:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span><span class="na">@</span><span class="p">(</span><span class="m">1</span><span class="o">+</span><span class="m">2</span><span class="p">)</span><span class="o">⊢</span><span class="p">(</span><span class="m">1</span><span class="o">+</span><span class="m">2</span><span class="o">=⍳≢</span><span class="m">1</span> <span class="m">2</span> <span class="m">4</span> <span class="m">5</span><span class="p">)</span><span class="na">\</span><span class="m">1</span> <span class="m">2</span> <span class="m">4</span> <span class="m">5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3 4 5
</span></div></div>
</div>
<p>Just like the operators <code class="docutils literal notranslate"><span class="pre">/</span></code> and <code class="docutils literal notranslate"><span class="pre">\</span></code> each have a sibling, <code class="docutils literal notranslate"><span class="pre">⌿</span></code> and <code class="docutils literal notranslate"><span class="pre">⍀</span></code> which do the same thing but along the first axis (i.e. on the major cells) so to with the functions <code class="docutils literal notranslate"><span class="pre">/</span></code> and <code class="docutils literal notranslate"><span class="pre">\</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">1</span> <span class="m">0</span> <span class="m">1</span><span class="na">/</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span> <span class="p">(</span><span class="m">1</span> <span class="m">0</span> <span class="m">1</span><span class="na">⌿</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌──┬───┐
│AC│ABC│
│DF│GHI│
│GI│   │
└──┴───┘
</span></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">1</span> <span class="m">¯2</span> <span class="m">1</span> <span class="m">1</span><span class="na">\</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span> <span class="p">(</span><span class="m">1</span> <span class="m">¯2</span> <span class="m">1</span> <span class="m">1</span><span class="na">⍀</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌─────┬───┐
│A  BC│ABC│
│D  EF│   │
│G  HI│   │
│     │DEF│
│     │GHI│
└─────┴───┘
</span></div></div>
</div>
</div>
<div class="section" id="ravel">
<h3>Ravel <code class="docutils literal notranslate"><span class="pre">,</span></code><a class="headerlink" href="#ravel" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">,</span></code> <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Ravel.htm">ravels</a>. It takes all the scalars of an array and makes a single vector (list) out of them. This includes a scalar, so <code class="docutils literal notranslate"><span class="pre">,3</span></code> is a one-element vector:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="o">,</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABC
DEF
GHI
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCDEFGHI
</span></div></div>
</div>
<p>Question:</p>
<blockquote>
<div><p>Isn’t that the same as monadic <code class="docutils literal notranslate"><span class="pre">∊</span></code>?</p>
</div></blockquote>
<p>It is not. For example,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">∊</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="o">∊</span><span class="m">3</span> <span class="m">3</span> <span class="m">3</span><span class="o">⍴⍳</span><span class="m">27</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCDEFGHI
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27
</span></div></div>
</div>
<p>The difference is that <code class="docutils literal notranslate"><span class="pre">∊</span></code> will take all the data and make it a simple vector. <code class="docutils literal notranslate"><span class="pre">,</span></code> will take all the scalars and make it a (potentially nested) vector:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">∊</span><span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="s1">&#39;abc&#39;</span> <span class="s1">&#39;def&#39;</span> <span class="s1">&#39;ghi&#39;</span> <span class="s1">&#39;jkl&#39;</span>
<span class="o">,</span><span class="m">2</span> <span class="m">2</span><span class="o">⍴</span><span class="s1">&#39;abc&#39;</span> <span class="s1">&#39;def&#39;</span> <span class="s1">&#39;ghi&#39;</span> <span class="s1">&#39;jkl&#39;</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">abcdefghijkl
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌───┬───┬───┬───┐
│abc│def│ghi│jkl│
└───┴───┴───┴───┘
</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">∊</span></code> is the same as recursive application of <code class="docutils literal notranslate"><span class="pre">⊃,/</span></code>.</p>
</div>
<div class="section" id="catenate">
<h3>Catenate <code class="docutils literal notranslate"><span class="pre">,</span></code><a class="headerlink" href="#catenate" title="Permalink to this headline">¶</a></h3>
<p>Which brings us to dyadic <code class="docutils literal notranslate"><span class="pre">,</span></code>, <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Catenate%20Laminate.htm">catenate</a>, which is simply concatenation:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span><span class="o">,</span><span class="m">4</span> <span class="m">5</span> <span class="m">6</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3 4 5 6
</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">,</span></code> can also get specified an axis upon which to act:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span><span class="o">,</span><span class="sr">[</span><span class="m">1</span><span class="sr">]</span><span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴⍳</span><span class="m">6</span><span class="p">)</span>
<span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span><span class="o">,</span><span class="sr">[</span><span class="m">2</span><span class="sr">]</span><span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴⍳</span><span class="m">6</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">A B C
D E F
1 2 3
4 5 6
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">ABC 1 2 3
DEF 4 5 6
</span></div></div>
</div>
<p>You can even use fractional axes to specify that you want to concatenate along a new inserted axis between the next lower and higher integer axes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span><span class="o">,</span><span class="sr">[</span><span class="m">0.5</span><span class="sr">]</span><span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴⍳</span><span class="m">6</span><span class="p">)</span> <span class="c1">⍝ 3D array</span>
<span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span><span class="o">,</span><span class="sr">[</span><span class="m">1.5</span><span class="sr">]</span><span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴⍳</span><span class="m">6</span><span class="p">)</span> <span class="c1">⍝ 3D array </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">A B C
D E F

1 2 3
4 5 6
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">A B C
1 2 3

D E F
4 5 6
</span></div></div>
</div>
<p>This works for the monadic form too:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">,</span><span class="sr">[</span><span class="m">0.5</span><span class="sr">]</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="o">⍴,</span><span class="sr">[</span><span class="m">0.5</span><span class="sr">]</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="o">,</span><span class="sr">[</span><span class="m">1.5</span><span class="sr">]</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="o">⍴,</span><span class="sr">[</span><span class="m">1.5</span><span class="sr">]</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABC
DEF
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">ABC

DEF
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">2 1 3
</span></div></div>
</div>
</div>
<div class="section" id="catenate-first">
<h3>Catenate first <code class="docutils literal notranslate"><span class="pre">⍪</span></code><a class="headerlink" href="#catenate-first" title="Permalink to this headline">¶</a></h3>
<p>Then we have <code class="docutils literal notranslate"><span class="pre">⍪</span></code>. The dyadic <code class="docutils literal notranslate"><span class="pre">⍪</span></code> is a synonym for <code class="docutils literal notranslate"><span class="pre">,[1]</span></code>, and it’s sometimes referred to as <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Catenate%20First.htm">catenate first</a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span><span class="o">,</span><span class="sr">[</span><span class="m">1</span><span class="sr">]</span><span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴⍳</span><span class="m">6</span><span class="p">)</span>
<span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span><span class="p">)</span><span class="o">⍪</span><span class="p">(</span><span class="m">2</span> <span class="m">3</span><span class="o">⍴⍳</span><span class="m">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">A B C
D E F
1 2 3
4 5 6
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">A B C
D E F
1 2 3
4 5 6
</span></div></div>
</div>
</div>
<div class="section" id="table">
<h3>Table <code class="docutils literal notranslate"><span class="pre">⍪</span></code><a class="headerlink" href="#table" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">⍪</span></code> is called <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Table.htm">table</a> as it ensures that the result is a table. It ravels the major cells of an array and makes each one of them into a row (i.e. a major cell) of a matrix:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="o">⍪</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCD
EFGH
IJKL

MNOP
QRST
UVWX
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCDEFGHIJKL
MNOPQRSTUVWX
</span></div></div>
</div>
<p>That is, monadic <code class="docutils literal notranslate"><span class="pre">⍪</span></code> is just a synonym for <code class="docutils literal notranslate"><span class="pre">,⍤¯1</span></code> (except for scalars). To be universal, we’d need to say <code class="docutils literal notranslate"><span class="pre">{,⍤¯1⊢1/⍵}</span></code>.</p>
</div>
</div>
<div class="section" id="id8">
<h2><code class="docutils literal notranslate"><span class="pre">⍴⌽⊖⍉⍎⍕</span></code><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<div class="section" id="reshape">
<h3>Reshape <code class="docutils literal notranslate"><span class="pre">⍴</span></code><a class="headerlink" href="#reshape" title="Permalink to this headline">¶</a></h3>
<p>We’ve met ⍴ (Greek Rho) in passing before. Let’s cover it in more depth. <code class="docutils literal notranslate"><span class="pre">⍴</span></code> is maybe the most fundamental function in an array language, as it allows the formation of multi-dimensional (high-rank) arrays. Note that <code class="docutils literal notranslate"><span class="pre">⍴</span></code> is not <em>actually</em> the Greek Rho in Unicode. Dyalog APL only uses the special Unicode APL Rho.</p>
<p>The Greek letter Rho is has the sound of the letter R, and stands for <a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Reshape.htm">reshape</a>. The right argument of <code class="docutils literal notranslate"><span class="pre">⍴</span></code> is used in ravel order to fill an array with the dimensions given by the left argument. The left argument must therefore be a vector (list) of dimension lengths (although for ease of use, we do allow a scalar instead of a one-element vector). Another way to look at it is that the left argument of <code class="docutils literal notranslate"><span class="pre">⍴</span></code> is the index of the last element in the resulting array (if you stick to the default <code class="docutils literal notranslate"><span class="pre">⎕IO</span></code> of 1). If you omit the shape (left argument) then the current shape is returned.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span><span class="o">⍴</span><span class="s1">&#39;a&#39;</span>
<span class="m">3</span><span class="o">⍴</span><span class="s1">&#39;ab&#39;</span>
<span class="m">3</span><span class="o">⍴</span><span class="s1">&#39;abcd&#39;</span>
<span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="s1">&#39;abc&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">aaa
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">aba
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">abc
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">abc
abc
</span></div></div>
</div>
<p>That’s two rows and three columns. The order of the left argument is the number of major cells first and of “leaf” cells last.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">4</span> <span class="m">5</span><span class="na">∘.</span><span class="o">+</span><span class="m">10</span> <span class="m">20</span> <span class="m">30</span> <span class="m">40</span>
<span class="o">⍴</span><span class="m">3</span> <span class="m">4</span> <span class="m">5</span><span class="na">∘.</span><span class="o">+</span><span class="m">10</span> <span class="m">20</span> <span class="m">30</span> <span class="m">40</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">13 23 33 43
14 24 34 44
15 25 35 45
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">3 4
</span></div></div>
</div>
<p>A scalar doesn’t have any dimensions, so the corresponding left argument is <code class="docutils literal notranslate"><span class="pre">⍬</span></code> (or <code class="docutils literal notranslate"><span class="pre">0⍴0</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="no">⍬</span><span class="o">⍴</span><span class="m">3</span> <span class="m">4</span> <span class="m">5</span><span class="na">∘.</span><span class="o">+</span><span class="m">10</span> <span class="m">20</span> <span class="m">30</span> <span class="m">40</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">13
</span></div></div>
</div>
<p>If one or more dimensions are 0, then the array doesn’t have any elements, but it is still there. If it has rank 2 or higher, then it has an empty default display. If an array has no elements, then <code class="docutils literal notranslate"><span class="pre">⍴</span></code> will uses its prototype to fill any array it needs to form:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="no">⍬</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">0 0 0
0 0 0
</span></div></div>
</div>
<p>Recall that <code class="docutils literal notranslate"><span class="pre">⍬</span></code> is just <code class="docutils literal notranslate"><span class="pre">0⍴0</span></code> so it being simple and numeric, its prototype is 0.</p>
</div>
<div class="section" id="reverse">
<h3>Reverse <code class="docutils literal notranslate"><span class="pre">⌽</span></code><a class="headerlink" href="#reverse" title="Permalink to this headline">¶</a></h3>
<p>Monadic <code class="docutils literal notranslate"><span class="pre">⌽</span></code> is <a class="reference external" href="https://help.dyalog.com/latest/#Language/Primitive%20Functions/Reverse.htm">reverse</a>. It reverses the leaf rank-1 sub-arrays of an array. For a matrix, it means reversing each row:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span> <span class="m">4</span><span class="o">⍴⍳</span><span class="m">8</span>
<span class="o">⌽</span><span class="m">2</span> <span class="m">4</span><span class="o">⍴⍳</span><span class="m">8</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">1 2 3 4
5 6 7 8
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">4 3 2 1
8 7 6 5
</span></div></div>
</div>
<p>For a vector, it simply means reversing the vector:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="nf">⎕A</span>
<span class="o">⌽</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCDEFGHIJKLMNOPQRSTUVWXYZ
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">ZYXWVUTSRQPONMLKJIHGFEDCBA
</span></div></div>
</div>
<p>Of course, it doesn’t affect scalars.</p>
</div>
<div class="section" id="reverse-first">
<h3>Reverse first <code class="docutils literal notranslate"><span class="pre">⊖</span></code><a class="headerlink" href="#reverse-first" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">⌽</span></code> has a sibling, just like <code class="docutils literal notranslate"><span class="pre">/</span></code> and <code class="docutils literal notranslate"><span class="pre">\</span></code> have <code class="docutils literal notranslate"><span class="pre">⌿</span></code> and <code class="docutils literal notranslate"><span class="pre">⍀</span></code>, namely <a class="reference external" href="https://help.dyalog.com/latest/#Language/Primitive%20Functions/Reverse%20First.htm">reverse first</a>, <code class="docutils literal notranslate"><span class="pre">⊖</span></code>, which I usually call “Flip”. <code class="docutils literal notranslate"><span class="pre">⊖</span></code> reverses the order of major cells, which for a matrix means reversing the order of the rows, i.e. flipping it upside down:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⊖</span><span class="m">2</span> <span class="m">4</span><span class="o">⍴⍳</span><span class="m">8</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">5 6 7 8
1 2 3 4
</span></div></div>
</div>
<p>For vectors, it is the same as <code class="docutils literal notranslate"><span class="pre">⌽</span></code> and again it does nothing to scalars. For a 3D array, it reverses the order of layers:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">4</span> <span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="o">⊖</span><span class="m">4</span> <span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABC
DEF

GHI
JKL

MNO
PQR

STU
VWX
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">STU
VWX

MNO
PQR

GHI
JKL

ABC
DEF
</span></div></div>
</div>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">⌽</span></code> and <code class="docutils literal notranslate"><span class="pre">⊖</span></code> do rotations instead of reversals:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span><span class="o">⊖</span><span class="nf">⎕A</span>
<span class="m">1</span><span class="o">⊖</span><span class="m">4</span> <span class="m">2</span> <span class="m">3</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">DEFGHIJKLMNOPQRSTUVWXYZABC
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">GHI
JKL

MNO
PQR

STU
VWX

ABC
DEF
</span></div></div>
</div>
<p>Negative rotation amounts just rotate to the other way:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">¯3</span><span class="o">⊖</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">XYZABCDEFGHIJKLMNOPQRSTUVW
</span></div></div>
</div>
<p>Here is a cool feature of <code class="docutils literal notranslate"><span class="pre">⌽</span></code> and <code class="docutils literal notranslate"><span class="pre">⊖</span></code>: If you give them a vector of rotation amounts, they get distributed on the relevant cells:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">1</span> <span class="m">0</span> <span class="m">2</span><span class="o">⌽</span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">1</span> <span class="m">0</span> <span class="m">¯1</span> <span class="m">0</span><span class="o">⊖</span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCD
EFGH
IJKL
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">BCDA
EFGH
KLIJ
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">EBKD
IFCH
AJGL
</span></div></div>
</div>
</div>
<div class="section" id="transpose">
<h3>Transpose <code class="docutils literal notranslate"><span class="pre">⍉</span></code><a class="headerlink" href="#transpose" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">⌽</span></code> and <code class="docutils literal notranslate"><span class="pre">⊖</span></code> also have a cousin named <code class="docutils literal notranslate"><span class="pre">⍉</span></code> (Transpose). The monadic function does not reverse the major cells or the rank 1 cells, but rather reverses the order of the indices. For matrices this is normal transposing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="o">⍉</span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCD
EFGH
IJKL
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">AEI
BFJ
CGK
DHL
</span></div></div>
</div>
<p>For arrays of rank higher than 2 it helps to think of the shape as being reversed:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="o">⍉</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCD
EFGH
IJKL

MNOP
QRST
UVWX
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">AM
EQ
IU

BN
FR
JV

CO
GS
KW

DP
HT
LX
</span></div></div>
</div>
<p>If you look carefully, you can see that the runs like ABCD which originally spanned rows are now spanning layers. Look at the top left corner of each new layer. So, too, are the layers now spanning rows. Look how the top left of the layers, A and M are now next to each other in a row. Whilst the column AEI is still a column, because reversing the shape 2 3 4 (layers, rows, columns) gives 4 3 2 (columns, rows, layers) so the runs spanning rows are in the same position, still spanning rows.</p>
<p>Now you know how to reverse the order of axes, but what if you want an entirely <em>new</em> order? That’s what dyadic <code class="docutils literal notranslate"><span class="pre">⍉</span></code> does. The left argument is the indices of the axes in the desired order. Therefore, if we reverse the indices of the rank, it is the same as monadic transpose:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">2</span> <span class="m">1</span><span class="o">⍉</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">AM
EQ
IU

BN
FR
JV

CO
GS
KW

DP
HT
LX
</span></div></div>
</div>
<p>Now we can keep the layers and only reverse (i.e. transpose) columns/rows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">3</span> <span class="m">2</span><span class="o">⍉</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">AEI
BFJ
CGK
DHL

MQU
NRV
OSW
PTX
</span></div></div>
</div>
<p>Here is a very cool thing: You can duplicate indices in the left argument. If so, APL will merge the indicated axes, taking only the elements that have equal indices along those two axes. This is the diagonal or diagonal plane, or diagonal 3D array (!), etc.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">1</span> <span class="m">1</span><span class="o">⍉</span><span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">1</span> <span class="m">1</span> <span class="m">1</span><span class="o">⍉</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
<span class="m">1</span> <span class="m">1</span> <span class="m">2</span><span class="o">⍉</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCD
EFGH
IJKL
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">AFK
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">AR
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">ABCD
QRST
</span></div></div>
</div>
<p>Here the layers and rows got merged, i.e. 1st row of 1st layer and 2nd row of 2nd layer, while the columns stayed as is.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">2</span> <span class="m">1</span><span class="o">⍉</span><span class="m">2</span> <span class="m">3</span> <span class="m">4</span><span class="o">⍴</span><span class="nf">⎕A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">AEI
NRV
</span></div></div>
</div>
<p>Here we merged layers and columns, i.e. 1st column of 1st layer and second column of 2nd layer. Dyadic <code class="docutils literal notranslate"><span class="pre">⍉</span></code> is pretty advanced and quite rarely used, but when you need it (and can figure out the correct left argument — experiment!) it is really handy.</p>
<p>Here’s an example. Given a multiplication table, what were the numbers that generated it?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="m">9</span> <span class="m">6</span> <span class="m">12</span> <span class="m">6</span> <span class="m">4</span> <span class="m">8</span> <span class="m">12</span> <span class="m">8</span> <span class="m">16</span> <span class="c1">⍝ A multiplication table</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 9 6 12
 6 4  8
12 8 16
</span></div></div>
</div>
<p>In this case, the answer is <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">2</span> <span class="pre">4</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="na">∘.</span><span class="o">×</span><span class="na">⍨</span><span class="m">3</span> <span class="m">2</span> <span class="m">4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 9 6 12
 6 4  8
12 8 16
</span></div></div>
</div>
<p>We can ‘reverse engineer’ this by finding the square root of the diagonal elements:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">1</span> <span class="m">1</span><span class="o">⍉</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="m">9</span> <span class="m">6</span> <span class="m">12</span> <span class="m">6</span> <span class="m">4</span> <span class="m">8</span> <span class="m">12</span> <span class="m">8</span> <span class="m">16</span>       <span class="c1">⍝ main diagonal</span>
<span class="m">0.5</span><span class="o">*</span><span class="na">⍨</span><span class="m">1</span> <span class="m">1</span><span class="o">⍉</span><span class="m">3</span> <span class="m">3</span><span class="o">⍴</span><span class="m">9</span> <span class="m">6</span> <span class="m">12</span> <span class="m">6</span> <span class="m">4</span> <span class="m">8</span> <span class="m">12</span> <span class="m">8</span> <span class="m">16</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">9 4 16
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">3 2 4
</span></div></div>
</div>
</div>
<div class="section" id="execute">
<h3>Execute <code class="docutils literal notranslate"><span class="pre">⍎</span></code><a class="headerlink" href="#execute" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Execute.htm">Execute</a>, <code class="docutils literal notranslate"><span class="pre">⍎</span></code>, evaluates a string representing a line of APL. This can be any valid APL expression, including functions and multiple statements:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">⍎</span><span class="s1">&#39;2+3&#39;</span>
<span class="m">2</span><span class="p">(</span><span class="o">⍎</span><span class="s1">&#39;+&#39;</span><span class="p">)</span><span class="m">3</span>
<span class="o">⍎</span><span class="s1">&#39;a←2 ⋄ a←a+3 ⋄ a&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">5
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">5
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">5
</span></div></div>
</div>
<p>The result of <code class="docutils literal notranslate"><span class="pre">⍎</span></code> is the result of the last statement, if that has a result. If it doesn’t (e.g. it is an empty statement or has a leading <code class="docutils literal notranslate"><span class="pre">{}</span></code>), then <code class="docutils literal notranslate"><span class="pre">⍎</span></code> doesn’t have a result either. The result of <code class="docutils literal notranslate"><span class="pre">⍎</span></code> can be a monadic operator:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="o">≢</span><span class="p">(</span><span class="o">⍎</span><span class="s1">&#39;¨&#39;</span><span class="p">)</span><span class="s1">&#39;abc&#39;</span> <span class="s1">&#39;defg&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">3 4
</span></div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">⍎</span></code> has all the features of a line of APL. You can run your entire program from <code class="docutils literal notranslate"><span class="pre">⍎</span></code>. Indeed, when a workspace is loaded, APL automatically does <code class="docutils literal notranslate"><span class="pre">⍎⎕LX</span></code> to bootstrap your application. This is what causes the greeting message when you load a workspace like <a class="reference external" href="http://dfns.dyalog.com/">dfns</a>.</p>
<p>Dyadic <code class="docutils literal notranslate"><span class="pre">⍎</span></code> is exactly like the monadic, but executes the expression in the namespace named in the left argument.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">0</span> <span class="m">0</span><span class="o">⍴</span><span class="nv">a</span><span class="kd">←</span><span class="s1">&#39;base&#39;</span>
<span class="nv">ns</span><span class="kd">←</span><span class="nf">⎕NS</span><span class="no">⍬</span>
<span class="nv">ns</span><span class="na">.</span><span class="nv">a</span><span class="kd">←</span><span class="s1">&#39;sub&#39;</span>
<span class="o">⍎</span><span class="s1">&#39;a&#39;</span>
<span class="s1">&#39;ns&#39;</span><span class="o">⍎</span><span class="s1">&#39;a&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">base
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">sub
</span></div></div>
</div>
<p>Here we first set <code class="docutils literal notranslate"><span class="pre">a</span></code> to <code class="docutils literal notranslate"><span class="pre">'base'</span></code> in <code class="docutils literal notranslate"><span class="pre">#</span></code> (the root namespace), then we created the empty namespace <code class="docutils literal notranslate"><span class="pre">ns</span></code>, populated it there, then evaluated <code class="docutils literal notranslate"><span class="pre">a</span></code> here (in <code class="docutils literal notranslate"><span class="pre">#</span></code>) and then in <code class="docutils literal notranslate"><span class="pre">ns</span></code>. In other words, monadic <code class="docutils literal notranslate"><span class="pre">⍎</span></code> is the same as dyadic <code class="docutils literal notranslate"><span class="pre">⍎</span></code> but with the default left argument of <code class="docutils literal notranslate"><span class="pre">⎕THIS</span></code> (this current namespace).</p>
<p>Nowadays, we usually “dot into” namespaces to evaluate there:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">0</span> <span class="m">0</span><span class="o">⍴</span><span class="nv">a</span><span class="kd">←</span><span class="s1">&#39;base&#39;</span>
<span class="nv">ns</span><span class="kd">←</span><span class="nf">⎕NS</span><span class="no">⍬</span>
<span class="nv">ns</span><span class="na">.</span><span class="nv">a</span><span class="kd">←</span><span class="s1">&#39;sub&#39;</span>
<span class="o">⍎</span><span class="s1">&#39;a&#39;</span>
<span class="nv">ns</span><span class="na">.</span><span class="o">⍎</span><span class="s1">&#39;a&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">base
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">sub
</span></div></div>
</div>
<p>Same as before, but here we used the “value” of <code class="docutils literal notranslate"><span class="pre">⍎</span></code> <em>inside</em> <code class="docutils literal notranslate"><span class="pre">ns</span></code> instead of <code class="docutils literal notranslate"><span class="pre">⍎</span></code>’s value here.</p>
</div>
<div class="section" id="format">
<h3>Format <code class="docutils literal notranslate"><span class="pre">⍕</span></code><a class="headerlink" href="#format" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://help.dyalog.com/latest/index.htm#Language/Primitive%20Functions/Format%20Monadic.htm">Format</a>, <code class="docutils literal notranslate"><span class="pre">⍕</span></code>, is really quite simple. It returns a simple character vector or matrix which displays exactly as if its argument had been displayed:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="sr">]</span><span class="nv">display</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span>   <span class="c1">⍝ numeric vector</span>
<span class="o">≢</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span>

<span class="sr">]</span><span class="nv">display</span> <span class="o">⍕</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span>  <span class="c1">⍝ convert to character vector</span>
<span class="o">≢⍕</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──────┐
│1 2 3 4│
└~──────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">4
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">┌→──────┐
│1 2 3 4│
└───────┘
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace">7
</span></div></div>
</div>
<p>If you give <code class="docutils literal notranslate"><span class="pre">⍕</span></code> a left argument, it will display numeric values with that many decimals, rounding 5 up:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">4</span><span class="o">⍕</span><span class="m">2</span><span class="o">÷</span><span class="m">3</span>    <span class="c1">⍝ character vector of 2÷3 rounded to 4 dp</span>
<span class="m">4</span><span class="o">⍕</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span><span class="o">÷</span><span class="m">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace"> 0.6667
</span></div><div class="output text_html"><span style="white-space:pre; font-family: monospace"> 0.3333 0.6667 1.0000
</span></div></div>
</div>
<p>If you give it two values as left argument, it will use the first as “field width” and the second as the number of decimal places:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">20</span> <span class="m">4</span><span class="o">⍕</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span><span class="o">÷</span><span class="m">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">              0.3333              0.6667              1.0000
</span></div></div>
</div>
<p>You can also use twice as many elements on the left as there are leaf cells on the right, and it will pair each two on the left to each one on the right:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-APL notranslate"><div class="highlight"><pre><span></span><span class="m">10</span> <span class="m">4</span> <span class="m">20</span> <span class="m">0</span> <span class="m">15</span> <span class="m">1</span><span class="o">⍕</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span><span class="o">÷</span><span class="m">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><span style="white-space:pre; font-family: monospace">    0.3333                   1            1.0
</span></div></div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "dyalog-kernel"
        },
        kernelOptions: {
            kernelName: "dyalog-kernel",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'dyalog-kernel'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="Arrays.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Introduction to arrays</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Operators.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Primitive operators</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Adám Brudzewsky (edited by Stefan Kruger)<br/>
        
          <div class="extra_footer">
            <p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" />
</a></p>
<p>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</p>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>